import{w as B,x as n,y as I,ai as j,bN as m,A as i,bl as F,bO as t,z as L,cJ as d,bD as H,bM as k,cq as y}from"./links-CgOwT1Tb.js";const M="/pr/334/assets/icons/help.svg",N=["aria-disabled"],S={class:"tooltiptext nms-font"},T={id:"explanationHeading",class:"explanationHeading title is-4"},z={id:"explanationContent",class:"explanationContent nms-font"},V=["href"],W=["srcset"],q=["src"],D=B({__name:"Explanation",props:{img:{},open:{type:Boolean}},emits:["update:open"],setup(e,{emit:a}){var l;const s=e,o=n(null),p=n(null),u=n(null),r=(null==(l=s.img)?void 0:l.trim())??"",c=n("0 -100vh"),g=n(""),v=n(0),b=n(0),f=n(!1),x=n(!1),h=a;function $(){c.value="0 -100vh",g.value||(g.value=r),f.value||(f.value=!0),h("update:open",!0),j((()=>{o.value&&(o.value.showModal(),c.value="0 0",o.value.scrollTo(0,0))}))}function _(){b.value=1,v.value=1}return I((()=>{s.open&&$()})),(e,a)=>(i(),m(F,null,[t("button",{"aria-disabled":!e.$slots.content||void 0,class:"tooltip",onClick:a[0]||(a[0]=a=>e.$slots.content&&$())},[a[4]||(a[4]=t("img",{src:M,alt:"Help"},null,-1)),t("p",S,[d(e.$slots,"default")])],8,N),(i(),L(H,{to:"body"},[f.value?(i(),m("dialog",{key:0,style:y({translate:c.value}),class:"explanation modal-content content",ref_key:"dialogElement",ref:o,onClose:a[3]||(a[3]=a=>e.$emit("update:open",!1))},[t("h2",T,[d(e.$slots,"heading")]),t("div",z,[d(e.$slots,"content")]),g.value&&!x.value?(i(),m("a",{key:0,href:`./assets/images/jpg/${g.value}.jpg`,class:"explanationLink loading",id:"explanationLink",ref_key:"linkElement",ref:u,rel:"noopener noreferrer",target:"_blank"},[t("picture",null,[t("source",{srcset:`./assets/images/webp/${g.value}.webp`,class:"explanationWebpImg",id:"explanationWebpImg",type:"image/webp"},null,8,W),t("img",{src:`./assets/images/jpg/${g.value}.jpg`,style:y({opacity:v.value,"margin-block-start":b.value+"rem"}),alt:"Explainer Image",class:"explanationFallbackImg",id:"explanationFallbackImg",ref_key:"imgElement",ref:p,onLoadstart:a[1]||(a[1]=e=>x.value=!1),onLoad:_,onError:a[2]||(a[2]=e=>x.value=!0)},null,44,q)])],8,V)):k("",!0),a[5]||(a[5]=t("form",{method:"dialog"},[t("button",{class:"button",type:"submit",autofocus:""}," Close ")],-1))],36)):k("",!0)]))],64))}});export{D as _};
