"use strict";import{D as t,al as F,S as V,C as c,am as J,a2 as r,Q as z,R as h,G as f,an as E,a1 as K,a3 as Q,F as W,_ as R,J as X,ao as Y,O as Z,T as I,U as ee,P as ne}from"./links-DlE74E-n.js";import{h as k,a as A,b as te,c as oe,i as w,d as ae}from"./startup-DDIz0MBV.js";import"./gallery-DNmbCE7y.js";import"./runtime-dom.esm-bundler-D-OVIont.js";import"./Explanation.vue_vue_type_script_setup_true_lang-CVklTx1D.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function G(){const n=c.output.regNr;n.innerText=z(t.region)}function b(){const n=V(),e=c.output.addInfo,a=n;e.innerText=a}function P(){const n=t.mainColour,e=t.secColour,a=t.name,o=t.subtype.toLowerCase(),l=t.type.toLowerCase(),u=c.input.appearanceInput;if(!(n.trim()||e.trim()))return;const p=n.trim()?`${h(n)} ${n.trim()}`:h(l),i=e.trim()?` with ${e} accents`:"",s=`${a} is ${p} ${o==="starter pistol"?o:l} multi-tool${i}.`;u.value=s,f(u)}function O(){le(),t.albumInitialised?k():document.addEventListener("albumLoaded",()=>k())}function x(){O(),y()}function le(){const{srLocName:n,planet:e,moon:a,axes:o}=t,l=t.location.toLowerCase(),u=X(e,a);let p,i;const s=(()=>{const d=t.srLoc;return n||d.includes("Space")?d.toLowerCase():l.includes("Space")?l:u})();l.includes("space")?(p=`fly to the ${l}`,i=`the ${s}`,l===s||!n?p="take from cabinet":s.includes("space")||(i=`${s} [[${n}]]`)):(i=`${s} [[${n}]]`,p=`fly to ${u} (${o})`,s.toLowerCase().includes("space")?i=`the ${s}`:a&&s==="moon"&&n===a||!a&&s==="planet"&&n===e?p=`fly to ${o}`:n||(i=`${u}`,p=`fly to ${o}`));const M=`Save and reload on ${i}, then ${p}.`;f(M,"acquirement"),t.actualSrLoc=s}function y(){const n=t.srLocName,e=t.location,a=t.srPlanetImg||"nmsMisc_notAvailable.png",o=t.sysImg||"nmsMisc_notAvailable.png",l=t.cabinetPlanetImg||"nmsMisc_notAvailable.png",u=t.axesImg||"nmsMisc_notAvailable.png",p=["srImgInput","sysImgInput","cabInput","coordsInput"],i=[{},{},{},{}],s=J(),M=(()=>{const m=t.srLoc;return m.includes("Space")||n?m:e.includes("Space")?e:s})(),d=e==="Sentinel Pillar"?"Pillar":"Cabinet",D=e.includes("Space")?"":`(${d} ${s} highlighted)`;function S(m,g,$){m.picName=g,m.desc=$}S(i[0],a,`Save/Reload ${M}`),S(i[1],o,`System ${D}`),!e.includes("Space")&&(S(i[2],l,`${d} ${s}`),S(i[3],u,"Coordinates"));const H=[];for(let m=0;m<i.length;m++){const g=i[m],$=g.picName,L=g.desc,C=p[m];if(!$||!L){r(c.input[C],"none");continue}r(c.input[C],"");const T=document.createElement("span");T.style.display="block",T.innerText=`${$}|${L}`,H.push(T.outerHTML),c.output[C+"Label"].innerText=L}const B=c.output.acquirementGallery;B.innerHTML=H.join("")}function j(){const n=t.type,e=c.input.locInput;n in E?(r(e,"none"),e.value=E[n],f(e)):r(e,""),v(),_(),y()}function se(){const n=t.location,e=c.input.typeInput,a=c.input.subtypeInput;if(typeof n!="string"||!(e instanceof HTMLSelectElement)||!(a instanceof HTMLSelectElement))return;const o=structuredClone(E);delete o.Royal;const l=Object.fromEntries(Object.entries(o).map(u=>u.reverse()));n in l?(r(e,"none"),r(a,"none"),e.value=l[n],f(e)):r(e,""),v(),_(),y()}function N(){const n=t.location,e=["planetInput","moonInput","axesInput"];for(const a of e){const o=c.input[a],l=n.includes("Space");r(o,l?"none":""),l&&(o.value="",f(o),W(o))}}function U(){const n=t.srLoc,e=c.input.srInput;n.includes("Space")?(r(e,"none"),e.value="",f(e)):r(e,"")}function v(){const n=t.location,e=c.input.costInput,a=n==="Sentinel Pillar"||n==="Harmonic Camp";r(e,a?"none":""),a&&(e.value="",R(e,"input"))}function _(){const n=t.type,e=c.input.crystalsInput;if(["Royal","Sentinel","Atlantid"].includes(n)){const a=e.closest(".checkboxes").querySelectorAll('input[type="checkbox"]');r(e,"none"),a.forEach(o=>{o.checked=!1,R(o,"change")})}else r(e,"")}function q(){const n=t.type,e=c.input.subtypeInput,a={Pistol:[["Pistol","Starter Pistol"],["Standard","Starter Pistol"]],Rifle:[["Rifle","SMG"],["Standard (Large)","SMG (Small)"]],Experimental:[["Rifle","Pistol"],["Rifle (Large)","Pistol (Small)"]],Alien:[["Rifle","SMG","Pistol"],["Rifle (Large)","SMG (Medium)","Pistol (Small)"]]},o=Object.keys(a).includes(n);r(e,o?"":"none"),o?K(e,a[n][0],a[n][1]):e.value="",Q(e)}function ie(){return"Album"}function ce(){return"Multi-Tool"}function re(){function n(){const e=t.subtype;return!e||t.isStarter?"":e+" -"}return`<br>{{Class|${t.class}}} - ${n()} ${t.slots} Slots`}function ue(){return(()=>{const n=t.axes,e=t.acquirement.replace("Save and reload","S/r");return n&&!F(!1)?e.replace(/[()]/g,"").replace(n,`(${n})`):e})()}function pe(){const n=["","Discovery Menu","Price Page","Base Stats","Minor Settlement","Sentinel Pillar","Harmonic Camp","Monolith","Tool in Hand","First Person View"],e=t.location,a=["Minor Settlement","Sentinel Pillar","Harmonic Camp","Monolith"];if(a.includes(e))a.filter(o=>o!==e).forEach(o=>{const l=n.indexOf(o);n.splice(l,1)});else for(let o=n.length-1;o>=0;o--)a.includes(n[o])&&n.splice(o,1);t.galleryArray=n}const me=[{element:"nameInput",func:()=>{oe(),P()}},{element:"typeInput",func:()=>{b(),j(),q(),h(t.type,"enPrefix"),w(),A(),P()}},{element:"subtypeInput",func:()=>{A(),b(),P(),w()}},{element:"researchTeam",func:()=>b()},{element:"locInput",func:function(){x(),N(),v(),se()}},{element:"srlocInput",func:()=>{x(),U()}},{element:["srInput","planetInput","moonInput"],func:()=>x()},{element:"axesInput",func:()=>O()},{element:["slotsInput","classInput"],func:()=>A()},{element:["srImgInput","sysImgInput","cabInput","coordsInput"],func:()=>y()},{element:["srImgUpload","sysImgUpload","cabUpload","coordsUpload"],handler:"change",func:function(){Y(this),y()}},{element:"portalglyphsInput",func:()=>G()},{element:["discoveredInput","discoveredlinkInput"],func:()=>te()},{element:["mainColourInput","secColourInput"],func:()=>P()},{element:"hideAppearanceButton",handler:"click",func:function(){Z("appearance",this)}}];I.albumDescExternal=()=>ue(),I.albumOtherExternal=()=>re(),I.albumItemTypeExternal=()=>ce(),I.albumTypeExternal=()=>ie(),I.generateGalleryArray=()=>pe(),ee("galleryExplanationExternal",`
	There is a preferred order of pictures:
	<div class='is-flex is-justify-content-center'>
		<ol class='has-text-left'>
			<li>Discovery Menu</li>
			<li>Price Page</li>
			<li>Base Stats</li>
			<li>Minor Settlement/Sentinel Pillar/Harmonic Camp/Monolith</li>
			<li>Tool in Hand</li>
			<li>First Person View</li>
		</ol>
	</div>`),ne(me),x(),b(),j(),q(),N(),U(),G(),v(),ae(),h(t.type??"","enPrefix");
