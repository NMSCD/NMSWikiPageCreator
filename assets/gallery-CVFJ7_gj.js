"use strict";import{A as jt,B as j,E as yt,G as ot,M as it,T as C,_ as It,a as an,b as ie,c as Ce,f as b,ft as xe,gt as ht,h as P,j as re,l as rt,m as ft,o as ln,p as Mt,s as wt,t as sn,u as Oe,v as un,w as Ie}from"./vue.runtime.esm-bundler-3ZgqKN1E.js";import{Mt as G,ct as ae,dt as Gt,kt as Me,lt as cn,ot as dn}from"./portalglyphs-GMhkLqu8.js";import{t as hn}from"./Explanation-D7rNd3Mp.js";import{t as Ae}from"./_plugin-vue_export-helper-Bjxippq7.js";function ke(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,o)}return e}function Z(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]==null?{}:arguments[n];n%2?ke(Object(e),!0).forEach(function(o){fn(t,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ke(Object(e)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))})}return t}function le(t){"@babel/helpers - typeof";return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},le(t)}function fn(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Q(){return Q=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Q.apply(this,arguments)}function pn(t,n){if(t==null)return{};var e={},o=Object.keys(t),i,r;for(r=0;r<o.length;r++)i=o[r],!(n.indexOf(i)>=0)&&(e[i]=t[i]);return e}function gn(t,n){if(t==null)return{};var e=pn(t,n),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)o=r[i],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(e[o]=t[o])}return e}var vn="1.15.6";function J(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var tt=J(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),At=J(/Edge/i),Pe=J(/firefox/i),kt=J(/safari/i)&&!J(/chrome/i)&&!J(/android/i),se=J(/iP(ad|od|hone)/i),Ne=J(/chrome/i)&&J(/android/i),Ye={capture:!1,passive:!1};function w(t,n,e){t.addEventListener(n,e,!tt&&Ye)}function y(t,n,e){t.removeEventListener(n,e,!tt&&Ye)}function Wt(t,n){if(n){if(n[0]===">"&&(n=n.substring(1)),t)try{if(t.matches)return t.matches(n);if(t.msMatchesSelector)return t.msMatchesSelector(n);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(n)}catch{return!1}return!1}}function Re(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function z(t,n,e,o){if(t){e||=document;do{if(n!=null&&(n[0]===">"?t.parentNode===e&&Wt(t,n):Wt(t,n))||o&&t===e)return t;if(t===e)break}while(t=Re(t))}return null}var Xe=/\s+/g;function F(t,n,e){t&&n&&(t.classList?t.classList[e?"add":"remove"](n):t.className=((" "+t.className+" ").replace(Xe," ").replace(" "+n+" "," ")+(e?" "+n:"")).replace(Xe," "))}function g(t,n,e){var o=t&&t.style;if(o){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(e=t.currentStyle),n===void 0?e:e[n];!(n in o)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),o[n]=e+(typeof e=="string"?"":"px")}}function _t(t,n){var e="";if(typeof t=="string")e=t;else do{var o=g(t,"transform");o&&o!=="none"&&(e=o+" "+e)}while(!n&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(e)}function Le(t,n,e){if(t){var o=t.getElementsByTagName(n),i=0,r=o.length;if(e)for(;i<r;i++)e(o[i],i);return o}return[]}function q(){return document.scrollingElement||document.documentElement}function M(t,n,e,o,i){if(!(!t.getBoundingClientRect&&t!==window)){var r,a,u,l,s,c,h;if(t!==window&&t.parentNode&&t!==q()?(r=t.getBoundingClientRect(),a=r.top,u=r.left,l=r.bottom,s=r.right,c=r.height,h=r.width):(a=0,u=0,l=window.innerHeight,s=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(n||e)&&t!==window&&(i||=t.parentNode,!tt))do if(i&&i.getBoundingClientRect&&(g(i,"transform")!=="none"||e&&g(i,"position")!=="static")){var p=i.getBoundingClientRect();a-=p.top+parseInt(g(i,"border-top-width")),u-=p.left+parseInt(g(i,"border-left-width")),l=a+r.height,s=u+r.width;break}while(i=i.parentNode);if(o&&t!==window){var f=_t(i||t),S=f&&f.a,_=f&&f.d;f&&(a/=_,u/=S,h/=S,c/=_,l=a+c,s=u+h)}return{top:a,left:u,bottom:l,right:s,width:h,height:c}}}function Be(t,n,e){for(var o=at(t,!0),i=M(t)[n];o;){var r=M(o)[e],a=void 0;if(a=e==="top"||e==="left"?i>=r:i<=r,!a)return o;if(o===q())break;o=at(o,!1)}return!1}function Et(t,n,e,o){for(var i=0,r=0,a=t.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==v.ghost&&(o||a[r]!==v.dragged)&&z(a[r],e.draggable,t,!1)){if(i===n)return a[r];i++}r++}return null}function ue(t,n){for(var e=t.lastElementChild;e&&(e===v.ghost||g(e,"display")==="none"||n&&!Wt(e,n));)e=e.previousElementSibling;return e||null}function W(t,n){var e=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==v.clone&&(!n||Wt(t,n))&&e++;return e}function Fe(t){var n=0,e=0,o=q();if(t)do{var i=_t(t),r=i.a,a=i.d;n+=t.scrollLeft*r,e+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[n,e]}function mn(t,n){for(var e in t)if(t.hasOwnProperty(e)){for(var o in n)if(n.hasOwnProperty(o)&&n[o]===t[e][o])return Number(e)}return-1}function at(t,n){if(!t||!t.getBoundingClientRect)return q();var e=t,o=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var i=g(e);if(e.clientWidth<e.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return q();if(o||n)return e;o=!0}}while(e=e.parentNode);return q()}function bn(t,n){if(t&&n)for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function ce(t,n){return Math.round(t.top)===Math.round(n.top)&&Math.round(t.left)===Math.round(n.left)&&Math.round(t.height)===Math.round(n.height)&&Math.round(t.width)===Math.round(n.width)}var Pt;function He(t,n){return function(){if(!Pt){var e=arguments,o=this;e.length===1?t.call(o,e[0]):t.apply(o,e),Pt=setTimeout(function(){Pt=void 0},n)}}}function yn(){clearTimeout(Pt),Pt=void 0}function je(t,n,e){t.scrollLeft+=n,t.scrollTop+=e}function Ge(t){var n=window.Polymer,e=window.jQuery||window.Zepto;return n&&n.dom?n.dom(t).cloneNode(!0):e?e(t).clone(!0)[0]:t.cloneNode(!0)}function We(t,n,e){var o={};return Array.from(t.children).forEach(function(i){if(!(!z(i,n.draggable,t,!1)||i.animated||i===e)){var r=M(i);o.left=Math.min(o.left??1/0,r.left),o.top=Math.min(o.top??1/0,r.top),o.right=Math.max(o.right??-1/0,r.right),o.bottom=Math.max(o.bottom??-1/0,r.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var X="Sortable"+new Date().getTime();function wn(){var t=[],n;return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){if(!(g(e,"display")==="none"||e===v.ghost)){t.push({target:e,rect:M(e)});var o=Z({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=_t(e,!0);i&&(o.top-=i.f,o.left-=i.e)}e.fromRect=o}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(mn(t,{target:e}),1)},animateAll:function(e){var o=this;if(!this.options.animation){clearTimeout(n),typeof e=="function"&&e();return}var i=!1,r=0;t.forEach(function(a){var u=0,l=a.target,s=l.fromRect,c=M(l),h=l.prevFromRect,p=l.prevToRect,f=a.rect,S=_t(l,!0);S&&(c.top-=S.f,c.left-=S.e),l.toRect=c,l.thisAnimationDuration&&ce(h,c)&&!ce(s,c)&&(f.top-c.top)/(f.left-c.left)===(s.top-c.top)/(s.left-c.left)&&(u=En(f,h,p,o.options)),ce(c,s)||(l.prevFromRect=s,l.prevToRect=c,u||=o.options.animation,o.animate(l,f,c,u)),u&&(i=!0,r=Math.max(r,u),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},u),l.thisAnimationDuration=u)}),clearTimeout(n),i?n=setTimeout(function(){typeof e=="function"&&e()},r):typeof e=="function"&&e(),t=[]},animate:function(e,o,i,r){if(r){g(e,"transition",""),g(e,"transform","");var a=_t(this.el),u=a&&a.a,l=a&&a.d,s=(o.left-i.left)/(u||1),c=(o.top-i.top)/(l||1);e.animatingX=!!s,e.animatingY=!!c,g(e,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=_n(e),g(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),g(e,"transform","translate3d(0,0,0)"),typeof e.animated=="number"&&clearTimeout(e.animated),e.animated=setTimeout(function(){g(e,"transition",""),g(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r)}}}}function _n(t){return t.offsetWidth}function En(t,n,e,o){return Math.sqrt((n.top-t.top)**2+(n.left-t.left)**2)/Math.sqrt((n.top-e.top)**2+(n.left-e.left)**2)*o.animation}var Dt=[],de={initializeByDefault:!0},Nt={mount:function(t){for(var n in de)de.hasOwnProperty(n)&&!(n in t)&&(t[n]=de[n]);Dt.forEach(function(e){if(e.pluginName===t.pluginName)throw`Sortable: Cannot mount plugin ${t.pluginName} more than once`}),Dt.push(t)},pluginEvent:function(t,n,e){var o=this;this.eventCanceled=!1,e.cancel=function(){o.eventCanceled=!0};var i=t+"Global";Dt.forEach(function(r){n[r.pluginName]&&(n[r.pluginName][i]&&n[r.pluginName][i](Z({sortable:n},e)),n.options[r.pluginName]&&n[r.pluginName][t]&&n[r.pluginName][t](Z({sortable:n},e)))})},initializePlugins:function(t,n,e,o){for(var i in Dt.forEach(function(a){var u=a.pluginName;if(!(!t.options[u]&&!a.initializeByDefault)){var l=new a(t,n,t.options);l.sortable=t,l.options=t.options,t[u]=l,Q(e,l.defaults)}}),t.options)if(t.options.hasOwnProperty(i)){var r=this.modifyOption(t,i,t.options[i]);r!==void 0&&(t.options[i]=r)}},getEventProperties:function(t,n){var e={};return Dt.forEach(function(o){typeof o.eventProperties=="function"&&Q(e,o.eventProperties.call(n[o.pluginName],t))}),e},modifyOption:function(t,n,e){var o;return Dt.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(t[i.pluginName],e))}),o}};function Dn(t){var n=t.sortable,e=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,u=t.fromEl,l=t.oldIndex,s=t.newIndex,c=t.oldDraggableIndex,h=t.newDraggableIndex,p=t.originalEvent,f=t.putSortable,S=t.extraEventProperties;if(n||=e&&e[X],n){var _,U=n.options,T="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!tt&&!At?_=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(o,!0,!0)),_.to=a||e,_.from=u||e,_.item=i||e,_.clone=r,_.oldIndex=l,_.newIndex=s,_.oldDraggableIndex=c,_.newDraggableIndex=h,_.originalEvent=p,_.pullMode=f?f.lastPutMode:void 0;var E=Z(Z({},S),Nt.getEventProperties(o,n));for(var D in E)_[D]=E[D];e&&e.dispatchEvent(_),U[T]&&U[T].call(n,_)}}var Sn=["evt"],L=function(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=e.evt,i=gn(e,Sn);Nt.pluginEvent.bind(v)(t,n,Z({dragEl:d,parentEl:I,ghostEl:m,rootEl:x,nextEl:pt,lastDownEl:Ut,cloneEl:O,cloneHidden:lt,dragStarted:Rt,putSortable:N,activeSortable:v.active,originalEvent:o,oldIndex:St,oldDraggableIndex:Yt,newIndex:H,newDraggableIndex:st,hideGhostForTarget:Ke,unhideGhostForTarget:Qe,cloneNowHidden:function(){lt=!0},cloneNowShown:function(){lt=!1},dispatchSortableEvent:function(r){R({sortable:n,name:r,originalEvent:o})}},i))};function R(t){Dn(Z({putSortable:N,cloneEl:O,targetEl:d,rootEl:x,oldIndex:St,oldDraggableIndex:Yt,newIndex:H,newDraggableIndex:st},t))}var d,I,m,x,pt,Ut,O,lt,St,H,Yt,st,zt,N,Tt=!1,$t=!1,Vt=[],gt,$,he,fe,Ue,ze,Rt,Ct,Xt,Lt=!1,Zt=!1,qt,Y,pe=[],ge=!1,Kt=[],Qt=typeof document<"u",Jt=se,$e=At||tt?"cssFloat":"float",Tn=Qt&&!Ne&&!se&&"draggable"in document.createElement("div"),Ve=(function(){if(Qt){if(tt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),Ze=function(t,n){var e=g(t),o=parseInt(e.width)-parseInt(e.paddingLeft)-parseInt(e.paddingRight)-parseInt(e.borderLeftWidth)-parseInt(e.borderRightWidth),i=Et(t,0,n),r=Et(t,1,n),a=i&&g(i),u=r&&g(r),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+M(i).width,s=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+M(r).width;if(e.display==="flex")return e.flexDirection==="column"||e.flexDirection==="column-reverse"?"vertical":"horizontal";if(e.display==="grid")return e.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var c=a.float==="left"?"left":"right";return r&&(u.clear==="both"||u.clear===c)?"vertical":"horizontal"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||l>=o&&e[$e]==="none"||r&&e[$e]==="none"&&l+s>o)?"vertical":"horizontal"},Cn=function(t,n,e){var o=e?t.left:t.top,i=e?t.right:t.bottom,r=e?t.width:t.height,a=e?n.left:n.top,u=e?n.right:n.bottom,l=e?n.width:n.height;return o===a||i===u||o+r/2===a+l/2},xn=function(t,n){var e;return Vt.some(function(o){var i=o[X].options.emptyInsertThreshold;if(!(!i||ue(o))){var r=M(o),a=t>=r.left-i&&t<=r.right+i,u=n>=r.top-i&&n<=r.bottom+i;if(a&&u)return e=o}}),e},qe=function(t){function n(i,r){return function(a,u,l,s){var c=a.options.group.name&&u.options.group.name&&a.options.group.name===u.options.group.name;if(i==null&&(r||c))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return n(i(a,u,l,s),r)(a,u,l,s);var h=(r?a:u).options.group.name;return i===!0||typeof i=="string"&&i===h||i.join&&i.indexOf(h)>-1}}var e={},o=t.group;(!o||le(o)!="object")&&(o={name:o}),e.name=o.name,e.checkPull=n(o.pull,!0),e.checkPut=n(o.put),e.revertClone=o.revertClone,t.group=e},Ke=function(){!Ve&&m&&g(m,"display","none")},Qe=function(){!Ve&&m&&g(m,"display","")};Qt&&!Ne&&document.addEventListener("click",function(t){if($t)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),$t=!1,!1},!0);var vt=function(t){if(d){t=t.touches?t.touches[0]:t;var n=xn(t.clientX,t.clientY);if(n){var e={};for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.target=e.rootEl=n,e.preventDefault=void 0,e.stopPropagation=void 0,n[X]._onDragOver(e)}}},On=function(t){d&&d.parentNode[X]._isOutsideThisEl(t.target)};function v(t,n){if(!(t&&t.nodeType&&t.nodeType===1))throw`Sortable: \`el\` must be an HTMLElement, not ${{}.toString.call(t)}`;this.el=t,this.options=n=Q({},n),t[X]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ze(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,a){r.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:v.supportPointer!==!1&&"PointerEvent"in window&&(!kt||se),emptyInsertThreshold:5};for(var o in Nt.initializePlugins(this,t,e),e)!(o in n)&&(n[o]=e[o]);for(var i in qe(n),this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=n.forceFallback?!1:Tn,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?w(t,"pointerdown",this._onTapStart):(w(t,"mousedown",this._onTapStart),w(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(t,"dragover",this),w(t,"dragenter",this)),Vt.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),Q(this,wn())}v.prototype={constructor:v,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ct=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,d):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,e=this.el,o=this.options,i=o.preventOnFilter,r=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,s=o.filter;if(Rn(e),!d&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||o.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&kt&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=z(u,o.draggable,e,!1),!(u&&u.animated)&&Ut!==u)){if(St=W(u),Yt=W(u,o.draggable),typeof s=="function"){if(s.call(this,t,u,this)){R({sortable:n,rootEl:l,name:"filter",targetEl:u,toEl:e,fromEl:e}),L("filter",n,{evt:t}),i&&t.preventDefault();return}}else if(s&&(s=s.split(",").some(function(c){if(c=z(l,c.trim(),e,!1),c)return R({sortable:n,rootEl:c,name:"filter",targetEl:u,fromEl:e,toEl:e}),L("filter",n,{evt:t}),!0}),s)){i&&t.preventDefault();return}o.handle&&!z(l,o.handle,e,!1)||this._prepareDragStart(t,a,u)}}},_prepareDragStart:function(t,n,e){var o=this,i=o.el,r=o.options,a=i.ownerDocument,u;if(e&&!d&&e.parentNode===i){var l=M(e);if(x=i,d=e,I=d.parentNode,pt=d.nextSibling,Ut=e,zt=r.group,v.dragged=d,gt={target:d,clientX:(n||t).clientX,clientY:(n||t).clientY},Ue=gt.clientX-l.left,ze=gt.clientY-l.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,d.style["will-change"]="all",u=function(){if(L("delayEnded",o,{evt:t}),v.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Pe&&o.nativeDraggable&&(d.draggable=!0),o._triggerDragStart(t,n),R({sortable:o,name:"choose",originalEvent:t}),F(d,r.chosenClass,!0)},r.ignore.split(",").forEach(function(s){Le(d,s.trim(),ve)}),w(a,"dragover",vt),w(a,"mousemove",vt),w(a,"touchmove",vt),r.supportPointer?(w(a,"pointerup",o._onDrop),!this.nativeDraggable&&w(a,"pointercancel",o._onDrop)):(w(a,"mouseup",o._onDrop),w(a,"touchend",o._onDrop),w(a,"touchcancel",o._onDrop)),Pe&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),L("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(At||tt))){if(v.eventCanceled){this._onDrop();return}r.supportPointer?(w(a,"pointerup",o._disableDelayedDrag),w(a,"pointercancel",o._disableDelayedDrag)):(w(a,"mouseup",o._disableDelayedDrag),w(a,"touchend",o._disableDelayedDrag),w(a,"touchcancel",o._disableDelayedDrag)),w(a,"mousemove",o._delayedDragTouchMoveHandler),w(a,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&w(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(u,r.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&ve(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._disableDelayedDrag),y(t,"touchend",this._disableDelayedDrag),y(t,"touchcancel",this._disableDelayedDrag),y(t,"pointerup",this._disableDelayedDrag),y(t,"pointercancel",this._disableDelayedDrag),y(t,"mousemove",this._delayedDragTouchMoveHandler),y(t,"touchmove",this._delayedDragTouchMoveHandler),y(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n||=t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):n?w(document,"touchmove",this._onTouchMove):w(document,"mousemove",this._onTouchMove):(w(d,"dragend",this),w(x,"dragstart",this._onDragStart));try{document.selection?ee(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Tt=!1,x&&d){L("dragStarted",this,{evt:n}),this.nativeDraggable&&w(document,"dragover",On);var e=this.options;!t&&F(d,e.dragClass,!1),F(d,e.ghostClass,!0),v.active=this,t&&this._appendGhost(),R({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if($){this._lastX=$.clientX,this._lastY=$.clientY,Ke();for(var t=document.elementFromPoint($.clientX,$.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint($.clientX,$.clientY),t!==n);)n=t;if(d.parentNode[X]._isOutsideThisEl(t),n)do{if(n[X]){var e=void 0;if(e=n[X]._onDragOver({clientX:$.clientX,clientY:$.clientY,target:t,rootEl:n}),e&&!this.options.dragoverBubble)break}t=n}while(n=Re(n));Qe()}},_onTouchMove:function(t){if(gt){var n=this.options,e=n.fallbackTolerance,o=n.fallbackOffset,i=t.touches?t.touches[0]:t,r=m&&_t(m,!0),a=m&&r&&r.a,u=m&&r&&r.d,l=Jt&&Y&&Fe(Y),s=(i.clientX-gt.clientX+o.x)/(a||1)+(l?l[0]-pe[0]:0)/(a||1),c=(i.clientY-gt.clientY+o.y)/(u||1)+(l?l[1]-pe[1]:0)/(u||1);if(!v.active&&!Tt){if(e&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<e)return;this._onDragStart(t,!0)}if(m){r?(r.e+=s-(he||0),r.f+=c-(fe||0)):r={a:1,b:0,c:0,d:1,e:s,f:c};var h=`matrix(${r.a},${r.b},${r.c},${r.d},${r.e},${r.f})`;g(m,"webkitTransform",h),g(m,"mozTransform",h),g(m,"msTransform",h),g(m,"transform",h),he=s,fe=c,$=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!m){var t=this.options.fallbackOnBody?document.body:x,n=M(d,!0,Jt,!0,t),e=this.options;if(Jt){for(Y=t;g(Y,"position")==="static"&&g(Y,"transform")==="none"&&Y!==document;)Y=Y.parentNode;Y!==document.body&&Y!==document.documentElement?(Y===document&&(Y=q()),n.top+=Y.scrollTop,n.left+=Y.scrollLeft):Y=q(),pe=Fe(Y)}m=d.cloneNode(!0),F(m,e.ghostClass,!1),F(m,e.fallbackClass,!0),F(m,e.dragClass,!0),g(m,"transition",""),g(m,"transform",""),g(m,"box-sizing","border-box"),g(m,"margin",0),g(m,"top",n.top),g(m,"left",n.left),g(m,"width",n.width),g(m,"height",n.height),g(m,"opacity","0.8"),g(m,"position",Jt?"absolute":"fixed"),g(m,"zIndex","100000"),g(m,"pointerEvents","none"),v.ghost=m,t.appendChild(m),g(m,"transform-origin",Ue/parseInt(m.style.width)*100+"% "+ze/parseInt(m.style.height)*100+"%")}},_onDragStart:function(t,n){var e=this,o=t.dataTransfer,i=e.options;if(L("dragStart",this,{evt:t}),v.eventCanceled){this._onDrop();return}L("setupClone",this),v.eventCanceled||(O=Ge(d),O.removeAttribute("id"),O.draggable=!1,O.style["will-change"]="",this._hideClone(),F(O,this.options.chosenClass,!1),v.clone=O),e.cloneId=ee(function(){L("clone",e),!v.eventCanceled&&(e.options.removeCloneOnHide||x.insertBefore(O,d),e._hideClone(),R({sortable:e,name:"clone"}))}),!n&&F(d,i.dragClass,!0),n?($t=!0,e._loopId=setInterval(e._emulateDragOver,50)):(y(document,"mouseup",e._onDrop),y(document,"touchend",e._onDrop),y(document,"touchcancel",e._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(e,o,d)),w(document,"drop",e),g(d,"transform","translateZ(0)")),Tt=!0,e._dragStartId=ee(e._dragStarted.bind(e,n,t)),w(document,"selectstart",e),Rt=!0,window.getSelection().removeAllRanges(),kt&&g(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,e=t.target,o,i,r,a=this.options,u=a.group,l=v.active,s=zt===u,c=a.sort,h=N||l,p,f=this,S=!1;if(ge)return;function _(Ot,on){L(Ot,f,Z({evt:t,isOwner:s,axis:p?"vertical":"horizontal",revert:r,dragRect:o,targetRect:i,canSort:c,fromSortable:h,target:e,completed:T,onMove:function(Te,rn){return te(x,n,d,o,Te,M(Te),t,rn)},changed:E},on))}function U(){_("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function T(Ot){return _("dragOverCompleted",{insertion:Ot}),Ot&&(s?l._hideClone():l._showClone(f),f!==h&&(F(d,N?N.options.ghostClass:l.options.ghostClass,!1),F(d,a.ghostClass,!0)),N!==f&&f!==v.active?N=f:f===v.active&&N&&(N=null),h===f&&(f._ignoreWhileAnimating=e),f.animateAll(function(){_("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(e===d&&!d.animated||e===n&&!e.animated)&&(Ct=null),!a.dragoverBubble&&!t.rootEl&&e!==document&&(d.parentNode[X]._isOutsideThisEl(t.target),!Ot&&vt(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),S=!0}function E(){H=W(d),st=W(d,a.draggable),R({sortable:f,name:"change",toEl:n,newIndex:H,newDraggableIndex:st,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),e=z(e,a.draggable,n,!0),_("dragOver"),v.eventCanceled)return S;if(d.contains(t.target)||e.animated&&e.animatingX&&e.animatingY||f._ignoreWhileAnimating===e)return T(!1);if($t=!1,l&&!a.disabled&&(s?c||(r=I!==x):N===this||(this.lastPutMode=zt.checkPull(this,l,d,t))&&u.checkPut(this,l,d,t))){if(p=this._getDirection(t,e)==="vertical",o=M(d),_("dragOverValid"),v.eventCanceled)return S;if(r)return I=x,U(),this._hideClone(),_("revert"),v.eventCanceled||(pt?x.insertBefore(d,pt):x.appendChild(d)),T(!0);var D=ue(n,a.draggable);if(!D||kn(t,p,this)&&!D.animated){if(D===d)return T(!1);if(D&&n===t.target&&(e=D),e&&(i=M(e)),te(x,n,d,o,e,i,t,!!e)!==!1)return U(),D&&D.nextSibling?n.insertBefore(d,D.nextSibling):n.appendChild(d),I=n,E(),T(!0)}else if(D&&An(t,p,this)){var V=Et(n,0,a,!0);if(V===d)return T(!1);if(e=V,i=M(e),te(x,n,d,o,e,i,t,!1)!==!1)return U(),n.insertBefore(d,V),I=n,E(),T(!0)}else if(e.parentNode===n){i=M(e);var k=0,ut,xt=d.parentNode!==n,mt=!Cn(d.animated&&d.toRect||o,e.animated&&e.toRect||i,p),B=p?"top":"left",et=Be(e,"top","top")||Be(d,"top","top"),Ht=et?et.scrollTop:void 0;Ct!==e&&(ut=i[B],Lt=!1,Zt=!mt&&a.invertSwap||xt),k=Pn(t,e,i,p,mt?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Zt,Ct===e);var K;if(k!==0){var bt=W(d);do bt-=k,K=I.children[bt];while(K&&(g(K,"display")==="none"||K===m))}if(k===0||K===e)return T(!1);Ct=e,Xt=k;var ct=e.nextElementSibling,nt=!1;nt=k===1;var dt=te(x,n,d,o,e,i,t,nt);if(dt!==!1)return(dt===1||dt===-1)&&(nt=dt===1),ge=!0,setTimeout(Mn,30),U(),nt&&!ct?n.appendChild(d):e.parentNode.insertBefore(d,nt?ct:e),et&&je(et,0,Ht-et.scrollTop),I=d.parentNode,ut!==void 0&&!Zt&&(qt=Math.abs(ut-M(e)[B])),E(),T(!0)}if(n.contains(d))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",vt),y(document,"mousemove",vt),y(document,"touchmove",vt)},_offUpEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._onDrop),y(t,"touchend",this._onDrop),y(t,"pointerup",this._onDrop),y(t,"pointercancel",this._onDrop),y(t,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(t){var n=this.el,e=this.options;if(H=W(d),st=W(d,e.draggable),L("drop",this,{evt:t}),I=d&&d.parentNode,H=W(d),st=W(d,e.draggable),v.eventCanceled){this._nulling();return}Tt=!1,Zt=!1,Lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),me(this.cloneId),me(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),kt&&g(document.body,"user-select",""),g(d,"transform",""),t&&(Rt&&(t.cancelable&&t.preventDefault(),!e.dropBubble&&t.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(x===I||N&&N.lastPutMode!=="clone")&&O&&O.parentNode&&O.parentNode.removeChild(O),d&&(this.nativeDraggable&&y(d,"dragend",this),ve(d),d.style["will-change"]="",Rt&&!Tt&&F(d,N?N.options.ghostClass:this.options.ghostClass,!1),F(d,this.options.chosenClass,!1),R({sortable:this,name:"unchoose",toEl:I,newIndex:null,newDraggableIndex:null,originalEvent:t}),x===I?H!==St&&H>=0&&(R({sortable:this,name:"update",toEl:I,originalEvent:t}),R({sortable:this,name:"sort",toEl:I,originalEvent:t})):(H>=0&&(R({rootEl:I,name:"add",toEl:I,fromEl:x,originalEvent:t}),R({sortable:this,name:"remove",toEl:I,originalEvent:t}),R({rootEl:I,name:"sort",toEl:I,fromEl:x,originalEvent:t}),R({sortable:this,name:"sort",toEl:I,originalEvent:t})),N&&N.save()),v.active&&((H==null||H===-1)&&(H=St,st=Yt),R({sortable:this,name:"end",toEl:I,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){L("nulling",this),x=d=I=m=pt=O=Ut=lt=gt=$=Rt=H=st=St=Yt=Ct=Xt=N=zt=v.dragged=v.ghost=v.clone=v.active=null,Kt.forEach(function(t){t.checked=!0}),Kt.length=he=fe=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":d&&(this._onDragOver(t),In(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,e=this.el.children,o=0,i=e.length,r=this.options;o<i;o++)n=e[o],z(n,r.draggable,this.el,!1)&&t.push(n.getAttribute(r.dataIdAttr)||Yn(n));return t},sort:function(t,n){var e={},o=this.el;this.toArray().forEach(function(i,r){var a=o.children[r];z(a,this.options.draggable,o,!1)&&(e[i]=a)},this),n&&this.captureAnimationState(),t.forEach(function(i){e[i]&&(o.removeChild(e[i]),o.appendChild(e[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return z(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var e=this.options;if(n===void 0)return e[t];var o=Nt.modifyOption(this,t,n);o===void 0?e[t]=n:e[t]=o,t==="group"&&qe(e)},destroy:function(){L("destroy",this);var t=this.el;t[X]=null,y(t,"mousedown",this._onTapStart),y(t,"touchstart",this._onTapStart),y(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(t,"dragover",this),y(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Vt.splice(Vt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!lt){if(L("hideClone",this),v.eventCanceled)return;g(O,"display","none"),this.options.removeCloneOnHide&&O.parentNode&&O.parentNode.removeChild(O),lt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(lt){if(L("showClone",this),v.eventCanceled)return;d.parentNode==x&&!this.options.group.revertClone?x.insertBefore(O,d):pt?x.insertBefore(O,pt):x.appendChild(O),this.options.group.revertClone&&this.animate(d,O),g(O,"display",""),lt=!1}}};function In(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function te(t,n,e,o,i,r,a,u){var l,s=t[X],c=s.options.onMove,h;return window.CustomEvent&&!tt&&!At?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=n,l.from=t,l.dragged=e,l.draggedRect=o,l.related=i||n,l.relatedRect=r||M(n),l.willInsertAfter=u,l.originalEvent=a,t.dispatchEvent(l),c&&(h=c.call(s,l,a)),h}function ve(t){t.draggable=!1}function Mn(){ge=!1}function An(t,n,e){var o=M(Et(e.el,0,e.options,!0)),i=We(e.el,e.options,m),r=10;return n?t.clientX<i.left-r||t.clientY<o.top&&t.clientX<o.right:t.clientY<i.top-r||t.clientY<o.bottom&&t.clientX<o.left}function kn(t,n,e){var o=M(ue(e.el,e.options.draggable)),i=We(e.el,e.options,m),r=10;return n?t.clientX>i.right+r||t.clientY>o.bottom&&t.clientX>o.left:t.clientY>i.bottom+r||t.clientX>o.right&&t.clientY>o.top}function Pn(t,n,e,o,i,r,a,u){var l=o?t.clientY:t.clientX,s=o?e.height:e.width,c=o?e.top:e.left,h=o?e.bottom:e.right,p=!1;if(!a){if(u&&qt<s*i){if(!Lt&&(Xt===1?l>c+s*r/2:l<h-s*r/2)&&(Lt=!0),Lt)p=!0;else if(Xt===1?l<c+qt:l>h-qt)return-Xt}else if(l>c+s*(1-i)/2&&l<h-s*(1-i)/2)return Nn(n)}return p||=a,p&&(l<c+s*r/2||l>h-s*r/2)?l>c+s/2?1:-1:0}function Nn(t){return W(d)<W(t)?1:-1}function Yn(t){for(var n=t.tagName+t.className+t.src+t.href+t.textContent,e=n.length,o=0;e--;)o+=n.charCodeAt(e);return o.toString(36)}function Rn(t){Kt.length=0;for(var n=t.getElementsByTagName("input"),e=n.length;e--;){var o=n[e];o.checked&&Kt.push(o)}}function ee(t){return setTimeout(t,0)}function me(t){return clearTimeout(t)}Qt&&w(document,"touchmove",function(t){(v.active||Tt)&&t.cancelable&&t.preventDefault()}),v.utils={on:w,off:y,css:g,find:Le,is:function(t,n){return!!z(t,n,t,!1)},extend:bn,throttle:He,closest:z,toggleClass:F,clone:Ge,index:W,nextTick:ee,cancelNextTick:me,detectDirection:Ze,getChild:Et,expando:X},v.get=function(t){return t[X]},v.mount=function(){var t=[...arguments];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw`Sortable: Mounted plugin must be a constructor function, not ${{}.toString.call(n)}`;n.utils&&(v.utils=Z(Z({},v.utils),n.utils)),Nt.mount(n)})},v.create=function(t,n){return new v(t,n)},v.version=vn;var A=[],Bt,be,ye=!1,we,_e,ne,Ft;function Xn(){function t(){for(var n in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return t.prototype={dragStarted:function(n){var e=n.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):e.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var e=n.originalEvent;!this.options.dragOverBubble&&!e.rootEl&&this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),Je(),oe(),yn()},nulling:function(){ne=be=Bt=ye=Ft=we=_e=null,A.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,e){var o=this,i=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(i,r);if(ne=n,e||this.options.forceAutoScrollFallback||At||tt||kt){Ee(n,this.options,a,e);var u=at(a,!0);ye&&(!Ft||i!==we||r!==_e)&&(Ft&&Je(),Ft=setInterval(function(){var l=at(document.elementFromPoint(i,r),!0);l!==u&&(u=l,oe()),Ee(n,o.options,l,e)},10),we=i,_e=r)}else{if(!this.options.bubbleScroll||at(a,!0)===q()){oe();return}Ee(n,this.options,at(a,!1),!1)}}},Q(t,{pluginName:"scroll",initializeByDefault:!0})}function oe(){A.forEach(function(t){clearInterval(t.pid)}),A=[]}function Je(){clearInterval(Ft)}var Ee=He(function(t,n,e,o){if(n.scroll){var i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=n.scrollSensitivity,u=n.scrollSpeed,l=q(),s=!1,c;be!==e&&(be=e,oe(),Bt=n.scroll,c=n.scrollFn,Bt===!0&&(Bt=at(e,!0)));var h=0,p=Bt;do{var f=p,S=M(f),_=S.top,U=S.bottom,T=S.left,E=S.right,D=S.width,V=S.height,k=void 0,ut=void 0,xt=f.scrollWidth,mt=f.scrollHeight,B=g(f),et=f.scrollLeft,Ht=f.scrollTop;f===l?(k=D<xt&&(B.overflowX==="auto"||B.overflowX==="scroll"||B.overflowX==="visible"),ut=V<mt&&(B.overflowY==="auto"||B.overflowY==="scroll"||B.overflowY==="visible")):(k=D<xt&&(B.overflowX==="auto"||B.overflowX==="scroll"),ut=V<mt&&(B.overflowY==="auto"||B.overflowY==="scroll"));var K=k&&(Math.abs(E-i)<=a&&et+D<xt)-(Math.abs(T-i)<=a&&!!et),bt=ut&&(Math.abs(U-r)<=a&&Ht+V<mt)-(Math.abs(_-r)<=a&&!!Ht);if(!A[h])for(var ct=0;ct<=h;ct++)A[ct]||(A[ct]={});(A[h].vx!=K||A[h].vy!=bt||A[h].el!==f)&&(A[h].el=f,A[h].vx=K,A[h].vy=bt,clearInterval(A[h].pid),(K!=0||bt!=0)&&(s=!0,A[h].pid=setInterval(function(){o&&this.layer===0&&v.active._onTouchMove(ne);var nt=A[this.layer].vy?A[this.layer].vy*u:0,dt=A[this.layer].vx?A[this.layer].vx*u:0;typeof c=="function"&&c.call(v.dragged.parentNode[X],dt,nt,t,ne,A[this.layer].el)!=="continue"||je(A[this.layer].el,dt,nt)}.bind({layer:h}),24))),h++}while(n.bubbleScroll&&p!==l&&(p=at(p,!1)));ye=s}},30),tn=function(t){var n=t.originalEvent,e=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(n){var l=e||i;a();var s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(s.clientX,s.clientY);u(),l&&!l.el.contains(c)&&(r("spill"),this.onSpill({dragEl:o,putSortable:e}))}};function De(){}De.prototype={startIndex:null,dragStart:function(t){this.startIndex=t.oldDraggableIndex},onSpill:function(t){var n=t.dragEl,e=t.putSortable;this.sortable.captureAnimationState(),e&&e.captureAnimationState();var o=Et(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),e&&e.animateAll()},drop:tn},Q(De,{pluginName:"revertOnSpill"});function Se(){}Se.prototype={onSpill:function(t){var n=t.dragEl,e=t.putSortable||this.sortable;e.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),e.animateAll()},drop:tn},Q(Se,{pluginName:"removeOnSpill"}),v.mount(new Xn),v.mount(Se,De);var Ln=v,Bn="/assets/icons/arrow.svg",Fn={class:"gallery-item"},Hn=["href"],jn=["src","alt"],Gn={class:"gallery-meta"},Wn={style:{"word-break":"break-all"}},Un=["value"],zn={class:"controlButtons"},$n={class:"handle",src:Bn,title:"Move picture up or down",alt:"Move image via drag'n'drop"},en=ie({__name:"GalleryItem",props:{fileItem:{},isLoc:{type:Boolean}},setup(t){let{galleryFiles:n,locationFiles:e}=Gt(ae()),o=l=>URL.createObjectURL(l),i=j(Array.isArray(G.galleryArray)?G.galleryArray:[]);function r(){typeof Me.generateGalleryArray=="function"&&Me.generateGalleryArray(),i.value=Array.isArray(G.galleryArray)?G.galleryArray:[]}Ie(()=>r());function a(l){n.value=n.value.filter(s=>s!==l),e.value=e.value.filter(s=>s!==l)}function u(l,s){let c=n.value.indexOf(l),h=e.value.indexOf(l),p=(()=>{if(c!==-1)return n;if(h!==-1)return e;throw Error("Couldn't find item!")})(),f=p.value.indexOf(l);if(s==="up"&&f)p.value.splice(f-1,0,l),p.value.splice(f+1,1);else if(s==="down"&&f!==p.value.length-1){let S=p.value.filter(_=>_!==l);S.splice(f+1,0,l),p.value=S}}return(l,s)=>(C(),P("div",Fn,[b("a",{class:"gallery-media",href:o(t.fileItem.file),target:"_blank",rel:"noopener noreferrer"},[b("img",{src:o(t.fileItem.file),alt:t.fileItem.file.name},null,8,jn)],8,Hn),b("div",Gn,[b("p",Wn,[s[5]||=b("span",{class:"has-text-weight-bold"},"Name: ",-1),It(ht(t.fileItem.file.name),1)]),it(b("div",null,[it(b("select",{"onUpdate:modelValue":s[0]||=c=>t.fileItem.desc=c,onMousedown:r,onTouchstart:r},[(C(!0),P(rt,null,yt(i.value,c=>(C(),P("option",{value:c,key:c},ht(c),9,Un))),128))],544),[[an,t.fileItem.desc]])],512),[[wt,i.value.length]]),b("div",null,[it(b("input",{type:"text",placeholder:"Description","onUpdate:modelValue":s[1]||=c=>t.fileItem.desc=c},null,512),[[ln,t.fileItem.desc]])])]),b("div",zn,[b("button",{class:"delete-icon is-clickable",title:"Remove picture from gallery",onClick:s[2]||=c=>a(t.fileItem)}," \u274C "),it(b("img",$n,null,512),[[wt,!t.isLoc]]),it(b("button",{class:"button moveButton",title:"Move up","data-move":"up",onClick:s[3]||=c=>u(t.fileItem,"up")},[...s[6]||=[b("svg",{width:"36",height:"36"},[b("path",{d:"M2 25h32L18 9 2 25Z"})],-1)]],512),[[wt,!t.isLoc]]),it(b("button",{class:"button moveButton",title:"Move down","data-move":"down",onClick:s[4]||=c=>u(t.fileItem,"down")},[...s[7]||=[b("svg",{width:"36",height:"36"},[b("path",{d:"M2 11h32L18 27 2 11Z"})],-1)]],512),[[wt,!t.isLoc]])])]))}}),Vn={class:"title-wrapper"},Zn=["innerHTML"],qn={key:0,class:"error-list"},Kn={key:0},Qn={key:1},Jn=Ae(ie({__name:"FileUpload",setup(t){let n=j(null),e=j(!1),o=j([]),i=j(""),r=j(!1),a=j(""),u=j(!1),l=j(!1),s=j(!1);jt(()=>{l.value&&!u.value&&(l.value=!1)}),jt(()=>{!u.value&&!l.value&&(a.value=typeof G.galleryExplanationExternal=="string"?G.galleryExplanationExternal:"")}),jt(()=>{!s.value&&u.value&&(s.value=!0)});let{galleryFiles:c}=Gt(ae()),{image:h}=Gt(dn());function p(T){e.value=!1;let E=T.dataTransfer?.files;E?.length&&S(E)}function f(T){if(!(T.target instanceof HTMLInputElement))return;let E=T.target.files;E?.length&&S(E)}function S(T){let E=Array.from(T),D=E.filter(k=>k.size>1e7);o.value=D.map(k=>k.name),i.value=typeof G.image=="string"?G.image:h.value,r.value=E.map(k=>k.name).includes(i.value);let V=E.filter(k=>!D.includes(k)&&k.name!==i.value);U(Array.from(V),c),!(s.value||typeof G.galleryExplanationExternal!="string"||!V.length)&&(a.value=G.galleryExplanationExternal+'<div class="mt-3"><span class="has-text-weight-bold">NOTE</span>: You can access this popup at any time by clicking on the "?" next to the gallery upload button.</div>',u.value=!0,l.value=!0,s.value=!0)}let _=0;function U(T,E){for(let D of T)E.value.unshift({id:_++,desc:"",file:D})}return(T,E)=>(C(),P(rt,null,[b("label",{for:"galleryUpload",class:xe(["drop-container",{"drag-active":e.value}]),onDragenter:E[1]||=D=>e.value=!0,onDragleave:E[2]||=D=>e.value=!1,onDrop:Ce(p,["prevent"]),onDragover:E[3]||=Ce(()=>{},["prevent"])},[b("div",Vn,[E[6]||=b("span",{class:"drop-title"},"Drop gallery files here",-1),a.value?(C(),Mt(hn,{key:0,open:u.value,"onUpdate:open":E[0]||=D=>u.value=D},{heading:re(()=>[...E[4]||=[It("Gallery",-1)]]),content:re(()=>[b("div",{innerHTML:a.value},null,8,Zn)]),default:re(()=>[E[5]||=It(" There is a preferred order of pictures. ",-1)]),_:1},8,["open"])):ft("",!0)]),b("input",{ref_key:"galleryUpload",ref:n,class:xe({error:o.value.length||r.value}),accept:"image/*",type:"file",id:"galleryUpload",multiple:"",onChange:f},null,34)],34),o.value.length||r.value?(C(),P("div",qn,[r.value?(C(),P("div",Kn,ht(i.value)+" is already in the infobox and therefore wasn't added to the gallery. ",1)):ft("",!0),o.value.length?(C(),P("div",Qn,[...E[7]||=[It(" The following file(s) exceed the 10MB upload limit and couldn't be added. You can compress them with the ",-1),b("a",{href:"https://nmscd.com/Image-Compressor/",target:"_blank",rel:"noopener noreferrer"},"Image Compressor",-1),It(". ",-1)]])):ft("",!0),(C(!0),P(rt,null,yt(o.value,D=>(C(),P("div",{key:D},ht(D),1))),128))])):ft("",!0)],64))}}),[["__scopeId","data-v-d6a78f05"]]),to={key:0,class:"gallery-preview-header"},eo={key:0,class:"gallery-preview"},no={id:"gallery"},oo={id:"galleryOutput"},io={key:0,id:"locationGallery"},ro={id:"locationGalleryOutput"},nn=sn(Ae(ie({__name:"App",setup(t){let n=j(null),e=j(!1);Ie(()=>{window.matchMedia("(pointer: coarse)").matches||!n.value||new Ln(n.value,{handle:".handle",animation:250,onUpdate:r})});let{galleryFiles:o,locationFiles:i}=Gt(ae());function r(s){let c=s.oldIndex,h=s.newIndex;if(!(typeof c=="number"&&typeof h=="number"))return;let p=o.value.splice(c,1);o.value.splice(h,0,p[0])}jt(()=>{if(o.value.length+i.value.length>5&&(G.pageType==="fauna"||G.pageType==="sandworm")){let s=["Moon Page","Planet Page","System Page","Galaxy Map"],c=s.map(p=>p.toLowerCase()),h=o.value.filter(p=>c.includes(p.desc.toLowerCase()));for(let p=h.length-1;p>=0;p--){let f=h[p];f.desc=s[c.indexOf(f.desc.toLowerCase())],i.value.push(f);let S=o.value.indexOf(f);o.value.splice(S,1)}for(let p=i.value.length-1;p>=0;p--){let f=i.value[p];c.includes(f.desc.toLowerCase())||a(f)}i.value=s.flatMap(p=>i.value.filter(f=>f.desc===p))}else for(let s=i.value.length-1;s>=0;s--)a(i.value[s])});function a(s){o.value.push(s);let c=i.value.indexOf(s);i.value.splice(c,1)}function u(s){return s.file.name+(s.desc?"|"+s.desc:"")}function l(){e.value=!e.value}return(s,c)=>(C(),P(rt,null,[un(Jn),(C(),Mt(Oe,{to:"#galleryItems"},[ot(o).length?(C(),P("div",to,[c[0]||=b("label",{class:"has-text-weight-bold"},"Gallery Preview",-1),b("button",{class:"button",onClick:l},ht(e.value?"Show":"Hide"),1)])):ft("",!0),it(b("div",null,[it(b("div",{ref_key:"filePreview",ref:n,class:"gallery-preview"},[(C(!0),P(rt,null,yt(ot(o),h=>(C(),Mt(en,{key:h.id,"file-item":h,"is-loc":!1},null,8,["file-item"]))),128))],512),[[wt,ot(o).length]]),ot(i).length?(C(),P("div",eo,[c[1]||=b("label",{class:"has-text-weight-bold is-block mb-1"},"Location Files",-1),(C(!0),P(rt,null,yt(ot(i),h=>(C(),Mt(en,{key:h.id,"file-item":h,"is-loc":!0},null,8,["file-item"]))),128))])):ft("",!0)],512),[[wt,!e.value]])])),(C(),Mt(Oe,{to:"#gallery"},[b("div",no,[c[2]||=b("div",null,"==Gallery==",-1),c[3]||=b("div",null,"<gallery>",-1),b("div",oo,[(C(!0),P(rt,null,yt(ot(o),h=>(C(),P("div",{key:h.id},ht(u(h)),1))),128))]),c[4]||=b("div",null,"</gallery>",-1)]),ot(i).length?(C(),P("div",io,[c[5]||=b("br",null,null,-1),c[6]||=b("div",null,"===Location===",-1),c[7]||=b("div",null,"<gallery>",-1),b("div",ro,[(C(!0),P(rt,null,yt(ot(i),h=>(C(),P("div",{key:h.id},ht(u(h)),1))),128))]),c[8]||=b("div",null,"</gallery>",-1)])):ft("",!0)]))],64))}}),[["__scopeId","data-v-8fa1ca60"]]));nn.use(cn()),nn.mount("#galleryInput");
