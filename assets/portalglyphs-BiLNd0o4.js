import{A as e,B as t,C as n,Ct as r,F as i,H as a,I as o,L as s,P as c,R as l,S as u,U as d,V as f,W as p,d as m,x as h,yt as g,z as _}from"./vue.runtime.esm-bundler-D4-5mUL3.js";const v="https://nomanssky.fandom.com/wiki/",y={},b={},x={text:"",copy:!1,link:""},S={input:{},output:{}},C={},ee=[],w={},T={},E={Royal:"Sentinel Pillar",Sentinel:"Harmonic Camp",Atlantid:"Monolith"};var D={input:{version:"versionInput",fileInput:"fileInput",fileUpload:"fileUpload",portalglyphsInput:"portalglyphsInput",researchTeam:"researchteamInput",galleryUpload:"galleryUpload"},output:{output:"output",portalglyphButtons:"portalglyphButtons",galleryItems:"galleryItems",galleryCode:"galleryCode",explanation:"explanation",fullArticle:"fullArticle",actions:"actions",albumActions:"albumActions",albumEntry:"albumEntry",footer:"footer"}};function te(e){for(let t of Object.entries(e)){let e=t[0],n=t[1];for(let[t,o]of Object.entries(n)){let n=O(o);null!=n&&(S[e]??={},S[e][t]=n.length>1?n:n[0])}}}function O(e){let t=Array.from(document.getElementsByName(e));if(!t.length){let n=document.getElementById(e);n&&t.push(n)}return t}function ne(){let e=document.querySelectorAll("input, select, textarea"),t=Object.values(D.input);for(let n of Array.from(e))t.includes(n.id)||(D.input[n.id]=n.id)}function re(){let e=document.getElementsByTagName("output"),t=Object.values(D.output);for(let n of Array.from(e)){if(t.includes(n.name)||t.includes(n.id))continue;let e=n.name||n.id;D.output[e]=e}}var ie=/^\s*([^=|{}[\]]*)=/,ae=/\|/m,oe=/}}/m,k=/(\[\[|\{\{)/m;function se(e){let t=RegExp(/^(\{\{|\[\[)(.*)/).exec(e);if(!t)return 0;let n,o=t[1].length;e=e.slice(o),"{{"===t[1]?n=/\}\}/m:"[["===t[1]&&(n=/\]\]/m);let r=RegExp(k).exec(e),a=RegExp(n??"").exec(e);for(;r&&(!a||r.index<a.index);){let t=se(e=e.slice(r.index));o+=r.index+t,e=e.slice(t),r=RegExp(k).exec(e),a=RegExp(n??"").exec(e)}return o+=(a?.index??0)+(a?.[0].length??0),o}function ce(e,t){let n=[],o=RegExp("(\\{\\{\\s*"+t+"\\s*(\\||\\}\\}))","im"),r=RegExp(o).exec(e);for(;r;){let t={},a=1;if((e=e.slice(r.index+r[1].length)).startsWith("\n")&&(e=e.slice(1)),"}}"===r[2]){n.push(t),r=RegExp(o).exec(e);continue}let l=null,i="",s=!1;for(;!s;){let o=RegExp(ie).exec(e),r=RegExp(k).exec(e),u=RegExp(ae).exec(e),c=RegExp(oe).exec(e);if(""===i&&o)l=o[1].trim(),e=e.slice(o[0].length);else if(u&&(!r||u.index<r.index)&&(!c||u.index<c.index))i+=e.slice(0,u.index),e=e.slice(u.index+1),(""!==i||l)&&(t[l??a]=i.trim()),a++,l=null,i="";else if(r&&(!c||r.index<c.index)){let t=se(e.slice(r.index));i+=e.slice(0,r.index+t),e=e.slice(r.index+t)}else c&&(i+=e.slice(0,c.index),e=e.slice(c.index+2),(""!==i||l)&&(t[l??a]=i.trim()),n.push(t)),s=!0}r=RegExp(o).exec(e)}return n}var le=r(g((e,t)=>{!function(e){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,o,r,a,l){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(r,l)),a),o)}function r(e,t,n,r,a,l,i){return o(t&n|~t&r,e,t,a,l,i)}function a(e,t,n,r,a,l,i){return o(t&r|n&~r,e,t,a,l,i)}function l(e,t,n,r,a,l,i){return o(t^n^r,e,t,a,l,i)}function i(e,t,n,r,a,l,i){return o(n^(t|~r),e,t,a,l,i)}function s(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var o,s,u,c,f,d=1732584193,p=-271733879,m=-1732584194,g=271733878;for(o=0;o<e.length;o+=16)s=d,u=p,c=m,f=g,d=r(d,p,m,g,e[o],7,-680876936),g=r(g,d,p,m,e[o+1],12,-389564586),m=r(m,g,d,p,e[o+2],17,606105819),p=r(p,m,g,d,e[o+3],22,-1044525330),d=r(d,p,m,g,e[o+4],7,-176418897),g=r(g,d,p,m,e[o+5],12,1200080426),m=r(m,g,d,p,e[o+6],17,-1473231341),p=r(p,m,g,d,e[o+7],22,-45705983),d=r(d,p,m,g,e[o+8],7,1770035416),g=r(g,d,p,m,e[o+9],12,-1958414417),m=r(m,g,d,p,e[o+10],17,-42063),p=r(p,m,g,d,e[o+11],22,-1990404162),d=r(d,p,m,g,e[o+12],7,1804603682),g=r(g,d,p,m,e[o+13],12,-40341101),m=r(m,g,d,p,e[o+14],17,-1502002290),d=a(d,p=r(p,m,g,d,e[o+15],22,1236535329),m,g,e[o+1],5,-165796510),g=a(g,d,p,m,e[o+6],9,-1069501632),m=a(m,g,d,p,e[o+11],14,643717713),p=a(p,m,g,d,e[o],20,-373897302),d=a(d,p,m,g,e[o+5],5,-701558691),g=a(g,d,p,m,e[o+10],9,38016083),m=a(m,g,d,p,e[o+15],14,-660478335),p=a(p,m,g,d,e[o+4],20,-405537848),d=a(d,p,m,g,e[o+9],5,568446438),g=a(g,d,p,m,e[o+14],9,-1019803690),m=a(m,g,d,p,e[o+3],14,-187363961),p=a(p,m,g,d,e[o+8],20,1163531501),d=a(d,p,m,g,e[o+13],5,-1444681467),g=a(g,d,p,m,e[o+2],9,-51403784),m=a(m,g,d,p,e[o+7],14,1735328473),d=l(d,p=a(p,m,g,d,e[o+12],20,-1926607734),m,g,e[o+5],4,-378558),g=l(g,d,p,m,e[o+8],11,-2022574463),m=l(m,g,d,p,e[o+11],16,1839030562),p=l(p,m,g,d,e[o+14],23,-35309556),d=l(d,p,m,g,e[o+1],4,-1530992060),g=l(g,d,p,m,e[o+4],11,1272893353),m=l(m,g,d,p,e[o+7],16,-155497632),p=l(p,m,g,d,e[o+10],23,-1094730640),d=l(d,p,m,g,e[o+13],4,681279174),g=l(g,d,p,m,e[o],11,-358537222),m=l(m,g,d,p,e[o+3],16,-722521979),p=l(p,m,g,d,e[o+6],23,76029189),d=l(d,p,m,g,e[o+9],4,-640364487),g=l(g,d,p,m,e[o+12],11,-421815835),m=l(m,g,d,p,e[o+15],16,530742520),d=i(d,p=l(p,m,g,d,e[o+2],23,-995338651),m,g,e[o],6,-198630844),g=i(g,d,p,m,e[o+7],10,1126891415),m=i(m,g,d,p,e[o+14],15,-1416354905),p=i(p,m,g,d,e[o+5],21,-57434055),d=i(d,p,m,g,e[o+12],6,1700485571),g=i(g,d,p,m,e[o+3],10,-1894986606),m=i(m,g,d,p,e[o+10],15,-1051523),p=i(p,m,g,d,e[o+1],21,-2054922799),d=i(d,p,m,g,e[o+8],6,1873313359),g=i(g,d,p,m,e[o+15],10,-30611744),m=i(m,g,d,p,e[o+6],15,-1560198380),p=i(p,m,g,d,e[o+13],21,1309151649),d=i(d,p,m,g,e[o+4],6,-145523070),g=i(g,d,p,m,e[o+11],10,-1120210379),m=i(m,g,d,p,e[o+2],15,718787259),p=i(p,m,g,d,e[o+9],21,-343485551),d=n(d,s),p=n(p,u),m=n(m,c),g=n(g,f);return[d,p,m,g]}function u(e){var t,n="",o=32*e.length;for(t=0;t<o;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function f(e){var t,n,o="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=o.charAt(t>>>4&15)+o.charAt(15&t);return r}function d(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return u(s(c(e),8*e.length))}(d(e))}function m(e,t){return function(e,t){var n,o,r=c(e),a=[],l=[];for(a[15]=l[15]=void 0,r.length>16&&(r=s(r,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^r[n],l[n]=1549556828^r[n];return o=s(a.concat(c(t)),512+8*t.length),u(s(l.concat(o),640))}(d(e),d(t))}function g(e,t,n){return t?n?m(t,e):function(e,t){return f(m(e,t))}(t,e):n?p(e):function(e){return f(p(e))}(e)}"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof t&&t.exports?t.exports=g:e.md5=g}(e)})(),1);function A(e){return Array.isArray(e)&&(e=e.join("")),(0,le.default)(e)}function ue(e){let t=[e].flat(),n=A(t[0].outerHTML);for(let e of t)e.dataset.hash||=n;return t[0].dataset.hash}function j(e){if(Array.isArray(e.element)){let t=structuredClone(e.element);for(let n of t)e.element=n,j(e);return}if(!b.eventListeners&&!["about","","flora","mineral"].includes(Kt()))return void me(e);let{handler:t,func:n}=e,o=[fe(e.element)].flat();for(let e of o)ge(e,pe(t,e),n)}function de(e){for(let t of e)j(t)}function fe(e){return"string"==typeof e?S.input[e]?S.input[e]:O(e):e}function pe(e,t){let n=t?.tagName?.toLowerCase(),o="input"===n?t.type:"";return e??("select"===n||"radio"===o||"checkbox"===o?"change":"input")}function me(e){let t=[e].flat();for(let e of t){let t=fe(e.element);if(Array.isArray(t)&&!t.length)continue;let n=ue(t),o=pe(e.handler,t);w[n]??={},w[n][o]||(w[n][o]={element:t,func:[]}),w[n][o].func[e.prio?"unshift":"push"](e.func)}}function he(){for(let e of Object.values(w))for(let[t,n]of Object.entries(e))for(let e of n.func){let o=[n.element].flat();for(let n of o)ge(n,t,e),delete n.dataset.hash}}function ge(e,t,n){e?.addEventListener(t,n),(e.dataset.listeners??=t).split(" ").includes(t)||(e.dataset.listeners+=` ${t}`)}const _e='\n\t<h2 id="explanationHeading" class="title is-4"></h2>\n\t<div id="explanationContent" class="nms-font"></div>\n\t<a id="explanationLink" target="_blank" rel="noopener noreferrer">\n\t\t<picture>\n\t\t\t<source type="image/webp" id="explanationWebpImg">\n\t\t\t<img id="explanationFallbackImg" alt="Explainer Image">\n\t\t</picture>\n\t</a>\n\t<form method="dialog">\n\t\t<button class="button" type="submit" autofocus>Close</button>\n\t</form>';var ve=new Set;function ye(e="",t="",n=""){let o=S.output.explanationFallbackImg,r=S.output.explanationWebpImg,a=S.output.explanationLink,l=S.output.explanation,i=n.trim();if(i){let e=ve.has(i);if(a.classList.toggle("loading",!e),!e||o.getAttribute("src")!==`./assets/images/jpg/${i}.jpg`){let t={webp:r,jpg:o};for(let[e,n]of Object.entries(t)){let t="IMG"===n.tagName?"src":"srcset";n[t]="",setTimeout(()=>{n[t]=`./assets/images/${e}/${i}.${e}`},0)}a.href=`./assets/images/jpg/${i}.jpg`,e||(o.style.opacity="0",o.style.marginBlockStart="0")}}a.style.display=i?"":"none",S.output.explanationHeading.innerText=e,S.output.explanationContent.innerHTML=t,l.style.translate="0 -100vh",l.showModal(),l.style.translate="0 0",l.scrollTo(0,0),o.onload=()=>{o.style.marginBlockStart="1rem",o.style.opacity="1",ve.add(i)}}function be(e=document){let t=e.querySelectorAll("button.tooltip");for(let e of Array.from(t))n(e);function n(e){let t=e.getElementsByTagName("data");if(!t.length)return;let n=[];for(let e of Array.from(t)){let t=e.innerHTML;n.push(t)}let o=document.createElement("img");o.src="./assets/icons/help.svg",o.alt="Help";let r=document.createElement("p");r.classList.add("tooltiptext","nms-font"),r.innerHTML=n.shift(),n.length?j({element:e,handler:"click",func:()=>ye(...n)}):e.ariaDisabled="true",e.innerHTML=o.outerHTML,e.appendChild(r)}}const xe={};function Se(e=b.moon){return e?"Moon":"Planet"}function Ce(e=b.planet,t=b.moon,n=!1){let o=S.output.celestialBody,r=Se(t),a=Y(e),l=Y(t),i=n?"[[":"",s=n?"]]":"",u=("Moon"===r?`${i}moon${s} [[${l}]] of the `:"")+`${i}planet${s} [[${a}]]`;return o&&(o.innerText=u),u}function we(e){let t=Object.values(xe).indexOf(e);return-1===t?"":(t+1).toString()}function Te(e){return`${we(e)}`}Object.freeze(xe);var De,P,Ee=typeof window<"u",M=e=>De=e,Oe=Symbol();function N(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(P||={});var ke="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null};function Ae(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function F(e,t,n){let o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){Ne(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function je(e){let t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function I(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{let t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(t)}}var L="object"==typeof navigator?navigator:{userAgent:""},Me=/Macintosh/.test(L.userAgent)&&/AppleWebKit/.test(L.userAgent)&&!/Safari/.test(L.userAgent),Ne=Ee?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Me?Pe:"msSaveOrOpenBlob"in L?Fe:Ie:()=>{};function Pe(e,t="download",n){let o=document.createElement("a");o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin===location.origin?I(o):je(o.href)?F(e,t,n):(o.target="_blank",I(o))):(o.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(o.href)},4e4),setTimeout(function(){I(o)},0))}function Fe(e,t="download",n){if("string"==typeof e)if(je(e))F(e,t,n);else{let t=document.createElement("a");t.href=e,t.target="_blank",setTimeout(function(){I(t)})}else navigator.msSaveOrOpenBlob(Ae(e,n),t)}function Ie(e,t,n,o){if(o||=open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return F(e,t,n);let r="application/octet-stream"===e.type,a=/constructor/i.test(String(ke.HTMLElement))||"safari"in ke,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a||Me)&&typeof FileReader<"u"){let t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw o=null,Error("Wrong reader.result type");e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location.assign(e),o=null},t.readAsDataURL(e)}else{let t=URL.createObjectURL(e);o?o.location.assign(t):location.href=t,o=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}var{assign:Le}=Object;function Re(){let e=c(!0),t=e.run(()=>f({})),n=[],o=[],r=l({install(e){M(r),r._a=e,e.provide(Oe,r),e.config.globalProperties.$pinia=r,o.forEach(e=>n.push(e)),o=[]},use(e){return this._a?n.push(e):o.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}var ze=()=>{};function Be(e,t,n,o=ze){e.add(t);let r=()=>{e.delete(t)&&o()};return!n&&i()&&_(r),r}function R(e,...t){e.forEach(e=>{e(...t)})}var Ve=e=>e(),He=Symbol(),z=Symbol();function B(e,t){for(let n in e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e),t){if(!t.hasOwnProperty(n))continue;let r=t[n],a=e[n];N(a)&&N(r)&&e.hasOwnProperty(n)&&!s(r)&&!o(r)?e[n]=B(a,r):e[n]=r}return e}var Ue=Symbol();function We(e){return!N(e)||!Object.prototype.hasOwnProperty.call(e,Ue)}var{assign:V}=Object;function Ge(e){return!(!s(e)||!e.effect)}function Ke(e,t,n,o){let r,{state:a,actions:i,getters:s}=t,u=n.state.value[e];return r=qe(e,function(){return u||(n.state.value[e]=a?a():{}),V(p(n.state.value[e]),i,Object.keys(s||{}).reduce((t,o)=>(t[o]=l(m(()=>{M(n);let t=n._s.get(e);return s[o].call(t,t)})),t),{}))},t,n,o,!0),r}function qe(r,l,i={},u,d,p){let m,g,h,y,b=V({actions:{}},i),v={deep:!0},x=new Set,S=new Set,w=u.state.value[r];function E(e){let t;g=h=!1,"function"==typeof e?(e(u.state.value[r]),t={type:P.patchFunction,storeId:r,events:void 0}):(B(u.state.value[r],e),t={type:P.patchObject,payload:e,storeId:r,events:void 0});let o=y=Symbol();n().then(()=>{y===o&&(g=!0)}),h=!0,R(x,t,u.state.value[r])}!p&&!w&&(u.state.value[r]={}),f({});let A=p?function(){let{state:e}=i,t=e?e():{};this.$patch(e=>{V(e,t)})}:ze;let k=(e,t="")=>{if(He in e)return e[z]=t,e;let n=function(){M(u);let t,o=Array.from(arguments),a=new Set,l=new Set;R(S,{args:o,name:n[z],store:I,after:function(e){a.add(e)},onError:function(e){l.add(e)}});try{t=e.apply(this&&this.$id===r?this:I,o)}catch(e){throw R(l,e),e}return t instanceof Promise?t.then(e=>(R(a,e),e)).catch(e=>(R(l,e),Promise.reject(e))):(R(a,t),t)};return n[He]=!0,n[z]=t,n},I=t({_p:u,$id:r,$onAction:Be.bind(null,S),$patch:E,$reset:A,$subscribe(t,n={}){let o=Be(x,t,n.detached,()=>a()),a=m.run(()=>e(()=>u.state.value[r],e=>{("sync"===n.flush?h:g)&&t({storeId:r,type:P.direct,events:void 0},e)},V({},v,n)));return o},$dispose:function(){m.stop(),x.clear(),S.clear(),u._s.delete(r)}});u._s.set(r,I);let j=(u._a&&u._a.runWithContext||Ve)(()=>u._e.run(()=>(m=c()).run(()=>l({action:k}))));for(let e in j){let t=j[e];s(t)&&!Ge(t)||o(t)?p||(w&&We(t)&&(s(t)?t.value=w[e]:B(t,w[e])),u.state.value[r][e]=t):"function"==typeof t&&(j[e]=k(t,e),b.actions[e]=t)}return V(I,j),V(a(I),j),Object.defineProperty(I,"$state",{get:()=>u.state.value[r],set:e=>{E(t=>{V(t,e)})}}),u._p.forEach(e=>{V(I,m.run(()=>e({store:I,app:u._a,pinia:u,options:b})))}),w&&p&&i.hydrate&&i.hydrate(I.$state,w),g=!0,h=!0,I}function H(e,t,n){let o,r="function"==typeof t;function a(n,a){let l=h();return n||=l?u(Oe,null):null,n&&M(n),(n=De)._s.has(e)||(r?qe(e,t,o,n):Ke(e,o,n)),n._s.get(e)}return o=r?n:t,a.$id=e,a}function Je(e){let t=a(e),n={};for(let r in t){let a=t[r];a.effect?n[r]=m({get:()=>e[r],set(t){e[r]=t}}):(s(a)||o(a))&&(n[r]=d(e,r))}return n}const Ye=H("gallery",{state:()=>({galleryFiles:[],locationFiles:[]})});var Xe=window.location.pathname.split("/").at(-1).slice(0,-5);const Ze=H("staticPageData",{state:()=>({route:Xe,fullArticleElement:null,debug:!1})});var U=()=>JSON.parse(localStorage.getItem("defaultSettings")??"{}");const Qe=H("pageData",{state:()=>({release:"",name:"",image:"",region:U().regionInput??"",galaxy:U().galaxyInput??"",hubname:U().hubnameInput??"",discovered:U()["discoveredInput builderInput"]??"",discoveredlink:U()["discoveredlinkInput builderlinkInput"]??"",orgName:"",system:U().systemInput??"",planet:U().planetInput??"",moon:U().moonInput??"",glyphs:U().portalglyphsInput??"",type:"",biome:"Lush",age:"",roots:"",nutrients:"",notes:"",elements:[],polymorphic:"",discDate:"",docBy:U().docbyInput??"",researchteam:U().researchteamInput??"",appearance:"",pageName:"",platform:U().platformInput??"",wealth:U().wealthInput??"",formation:"",content:""}),getters:{sanitisedStrings:e=>({name:Y(e.name),discovered:Y(e.discovered),discoveredlink:Y(e.discoveredlink),system:Y(e.system),planet:Y(e.planet),moon:Y(e.moon),orgName:Y(e.orgName),appearance:Y(e.appearance)}),docBySentence:e=>{let t=e.docBy.startsWith("{{"),n=e.researchteam.trim().length>0,o=t?e.docBy:`''${e.docBy}''`,r=e.researchteam.includes("Wiki")?"":`[[${e.researchteam}]] member`;return`${n?r:""} ${o}`}}});function W(e){return!!e&&"object"==typeof e}function $e(e){if(!W(e)||!("parse"in e))return!1;let{parse:t}=e;if(!W(t)||!("wikitext"in t))return!1;let{wikitext:n}=t;return!(!W(n)||!("*"in n))&&"string"==typeof n["*"]}var et="https://nomanssky.fandom.com/api.php",tt={format:"json",origin:"*",action:"parse"},nt=e=>({...tt,page:e}),rt=(e,t)=>({...nt(e),prop:"wikitext",section:t}),it=e=>`${et}?${Object.entries(e).map(e=>e.join("=")).join("&")}`,at=(e,t)=>it(rt(e,t));async function ot(e,t){let n=await st(at(e,t));if($e(n))return n.parse.wikitext["*"]}async function st(e){let t=await(await fetch(e)).text();return JSON.parse(t)}function ct(){return{inputs:document.querySelectorAll("[data-dest]"),checkboxes:document.querySelectorAll("[data-dest-checkbox]"),stores:document.querySelectorAll("[data-dest-noauto]"),defaults:document.querySelectorAll("[data-default]"),simple:document.querySelectorAll("[data-dest-simple]"),number:document.querySelectorAll("[data-dest-number]"),lists:document.querySelectorAll("[list]")}}async function lt(){let e=localStorage.getItem("release")??"";G(e,"release");try{let t=ce(await ot("Template:Base preload",0)??"","Version")[0][1];return t&&t!==e&&(localStorage.setItem("release",t),G(t,"release")),t||e}catch(t){return console.error(t),e}}function ut(e,t,n=t){let o=[];for(let e=0;e<t.length;e++){let r=t[e],a=n[e],l=document.createElement("option");l.value=r,l.innerText=a,o.push(l.outerHTML)}let r=o.join("");e.innerHTML!==r&&(e.innerHTML=r)}function dt(){let e=ct(),t=[{elements:e.number,func:function(){Q(this,parseInt(this.dataset.destNumber)||void 0)}},{elements:e.defaults,func:function(){Lt(this)}},{elements:e.inputs,func:function(){G(this)}},{elements:e.checkboxes,func:function(){K(this)}},{elements:e.stores,func:function(){q(this)}},{elements:e.simple,func:function(){J(this)}},{elements:e.lists,handler:"change",func:function(){jt(this)}}],n=[];for(let e of t){let{elements:t,handler:o,func:r}=e;for(let e of Array.from(t)){let t={element:e,handler:o,func:r,prio:!0};n.push(t)}}de(n)}function ft(){let e=ct();for(let t of Array.from(e.inputs))G(t);for(let t of Array.from(e.checkboxes))K(t);for(let t of Array.from(e.stores))q(t);for(let t of Array.from(e.defaults))Lt(t);for(let t of Array.from(e.simple))J(t);Q(),gt(S.input.fileUpload);try{sn(S.input.portalglyphsInput)}catch{}try{Ce()}catch{}X()}function G(e,t=e?.dataset?.dest){let n="string"==typeof t?O(t):[],o=Y("string"==typeof e?e:e.value);if(t)b[t]=o;else if("string"!=typeof e){if(!e.dataset.destNoauto)return;return void(b[e.dataset.destNoauto]=o)}for(let r of n)try{r.innerText=o}catch(t){console.error("destElement is null. Element:",e,"Value:",o,"Stacktrace:",t);continue}}function K(e){let t=e.dataset.destCheckbox,n=document.getElementById(t),o=e.value,r=e.dataset.checkboxUnchecked??"";e.checked?(n.innerText=o,b[t]=o):(n.innerText=r,b[t]=r)}function q(e,t=e.dataset.destNoauto){b[t]=Y(e.value)}function pt(){let e=e=>new URL(e).origin!==location.origin,t=document.getElementsByTagName("a");for(let n of Array.from(t))!n.href||!e(n.href)||(n.target||="_blank",n.rel||="noopener noreferrer")}function mt(){let e=document.querySelectorAll("a[data-wiki]");for(let t of Array.from(e)){t.target||="_blank",t.rel||="noopener noreferrer",delete t.dataset.wiki;let e=t.getAttribute("href");e.startsWith("http")||(t.href=v+e)}}function J(e,t=e.dataset.destSimple){let n=Array.from(document.getElementsByName(t));n.length||n.push(document.getElementById(t));for(let t of n)t.innerText=e.value}function ht(e,t){Object.defineProperty(b,e,{configurable:!1,writable:!1,value:t})}function Y(e){let t=["{","}","[","]"],n=[],o=e.split("[http");for(let e=0;e<o.length;e++){let t=r(o[e],0!==e);n.push(t)}return n.join("[http").replace(/\n{3,}/g,"\n\n").trim();function r(e,n=!1){let o=e;for(let e of t)o=n&&"]"===e?l(o,e):a(o,e);return o}function a(e,t){let n=t.repeat(2);return e.split(n).map(e=>e.replaceAll(t,"")).join(n)}function l(e,t){let n=e.indexOf(t),o=a(e,t).split("");return o.splice(n,0,t),o.join("")}}function gt(e){let t=e?.files?.[0]?.name;if(!t)return;Z(e,e.files[0].size>1e7?'This file is too big to be uploaded to the wiki. Maximum filesize is 10MB. Compress your file here: <a href="https://nmscd.com/Image-Compressor/" target="_blank" rel="noopener noreferrer">Image Compressor</a>':"");let n=e.previousElementSibling;n.value=Y(t),G(n),!T.uploadShown&&(ye("Upload your picture to the wiki!",'Don\'t forget to upload your picture to the wiki on <a href="https://nomanssky.fandom.com/wiki/Special:Upload?multiple=true" target="_blank" rel="noopener noreferrer">Special:Upload</a>.\n\tThe upload button only auto-filled the image name into the code, it is not automatically uploaded to the wiki.\n\t<div class="mt-3"><span class="has-text-weight-bold">NOTE</span>: You can access this popup at any time by clicking on the "?" next to the main image upload button.</div>'),T.uploadShown=!0)}function _t(e="",t=void 0,n="section"){let o=document.querySelectorAll(`[data-${n}~="${e}"]`),r=document.querySelectorAll("[data-button-id]"),a=Vt(Array.from(r),"dataset.buttonId");if(!arguments.length){let e=document.querySelectorAll(".sectionToggle button");for(let t=0;t<e.length;t++){let n=e[t];n.dataset.buttonId??=(a+t).toString();let o=n.dataset.buttonId;n.dataset[`display${o}`]=n.dataset.displayDefault??""}return}t.dataset.buttonId??=a.toString();let l=`display${t.dataset.buttonId}`,i=t.dataset[l];for(let e of Array.from(o)){let t=e.dataset,n=!1;for(let e in t)if(e.includes("display")&&e!==l&&"none"===t[e]){n=!0;break}n||(e.style.display=i?"":"none",e.dataset[l]=i?"":"none")}t.innerText=i?"Hide":"Show",t.dataset[l]=i?"":"none"}function vt(){let{value:e,dataset:{destNoauto:t}}=S.input.researchTeam;if(!t)return;b[t]=e;let n=e;S.output[t].innerText=n}function yt(){if("function"==typeof C.docByExternal)return void C.docByExternal();let e=S.input.docbyInput;if(!e)return;let t=Y(e.value),n=b.discovered??b.builder,o=b.discoveredlink??b.builderlink,r=e.dataset.destNoauto;if(!r)return;let a=bt(),l=xt(t),i=[n,o],s=S.output[r];t&&!i.includes(t)?(s.style.display="",s.innerText=`Documented by ${a} ${l}`):s.style.display="none",St()}function bt(){let e=b.researchteam;return e&&`[[${e}]] member`}function xt(e){return e&&(e.includes("[")||e.includes("{")?e:`''${e}''`)}function X(e="",t=""){if(!e&&!t){let e=document.querySelectorAll("[data-player]"),t=new Set,n=[];for(let o of Array.from(e)){if(t.has(o))continue;let r=o.closest(".table-cell"),a=[r?.previousElementSibling?.previousElementSibling?.querySelector("input"),r?.nextElementSibling?.nextElementSibling?.querySelector("input")].find(t=>Array.from(e).includes(t)),l=[o,a];t.add(a),n.push(l)}for(let e of n){let t=e[0],n=e[1];t?.value?X(t.id,n.id):n?.value?X(n.id,t.id):e.forEach(e=>wt(e,""))}return}let n=document.getElementById(e),o=document.getElementById(t);wt(o,n.value?"none":""),o.value="",G(o)}function St(){let e=document.querySelectorAll("[data-add-info]"),t=[];for(let n of Array.from(e))!n.nextElementSibling?.style.display&&n.nextElementSibling?.innerText&&t.push(n),n.innerHTML="";for(let e of t)t.length>1?e.innerHTML=e.dataset.addInfo:e.innerHTML=""}function Z(e,t=""){let n=e.closest(".data");if(n?.querySelector(".error")?.remove(),e.style.backgroundColor="",n.previousElementSibling.style.alignItems="",!t)return;e.style.backgroundColor="red";let o=document.createElement("div");o.innerHTML=t,o.className="error",n.appendChild(o),n.previousElementSibling.style.alignItems="baseline"}function Ct(e=!0){let t=S.input.axesInput,n=t.value;if(n&&!Et(n,new RegExp(/[+-](?:[0-9]{1,3})\.(?:[0-9]{2}), [+-](?:[0-9]{1,3})\.(?:[0-9]{2})/)))return e&&Z(t,"Invalid coordinate format"),"error";Z(t)}function wt(e,t=""){let n=e.closest(".table-cell"),o=[n.previousElementSibling,n];for(let e of o)e.style.display?e.style.display=t??"":e.style.display=t??"none"}function Tt(e,t=void 0){let n=RegExp(/[a-zA-Z]/).exec(e)?.[0]?.toLowerCase(),o="aeiou".includes(n)?"an":"a";return t&&G(o,t),o}function Et(e,t){let n=RegExp(t).exec(e);return 1===n?.length&&n[0]?.length===e.length}function Dt(){return"Wiki Scholars"===b.researchteam?" and documented by the [[Eisvana Wiki Scholars]]":""}function Q(e=null,t=void 0,n=!1){if(0===arguments.length){let e=document.querySelectorAll("[data-dest-number]");for(let t of Array.from(e)){let e=t.dataset.destNumber;Q(t,parseInt(e)||void 0)}return}if(!e)return;let o=e.dataset.destNoauto,r=b[o],a=r.startsWith("-")&&!parseFloat(r)?"-":"",l=Ot(e,r,t,n);O(o)[0]?G(a+l.toString(),o):b[o]=a+l}function Ot(e,t=e.value,n=void 0,o=!1){let r=kt(t,n,o);return r||!t||["+","-"].includes(t)?Z(e):Z(e,"Must only contain numbers"),r}function kt(e,t=void 0,n=!1){let o=parseFloat(e.replaceAll(",","")),r=parseInt(String(t)),a=isNaN(o)?"":isNaN(r)?o:o.toFixed(r);return n||!a?a.toString():new Intl.NumberFormat("en-UK",{minimumFractionDigits:r||0}).format(a)}function At(e){for(let t in e){let n=document.createElement("datalist");n.id=t;for(let o of e[t]){let e=document.createElement("option");e.value=o,n.appendChild(e)}document.body.appendChild(n)}}function jt(e){!e.list?.querySelector(`[value="${e.value}"]`)&&e.value?Z(e,'Not a valid option. If you believe this is an error, submit a <a href="https://forms.gle/LRhzWjMRkXoKd9CcA" rel="noreferrer noopener" target="_blank">bug report</a>.'):Z(e)}function Mt(e=null,t=!1){if(T.debug)return"";let n=A(JSON.stringify(b)),o=x.text,{name:r,portalglyphs:a}=b;return r&&a&&(n===o&&x.link===e?.dataset?.link&&x.copy||t)?(x.copy=!1,x.link="",""):r?a?"Copy Code First!":"Enter Glyphs!":"Missing Name!"}function Nt(e){return e?e.replace(/\r?\n|\r/g,""):""}function Pt(e){let t=document.getElementById("switchTheme")?.innerText,n=e.closest(".wikiText"),o=Nt(n?.innerText).trim(),r=(()=>{let e=Nt(window.getSelection().toString()).trim();return e.endsWith(t)?e.replace(t,"").trim():e})();x.text=A(JSON.stringify(b)),x.copy=o===r,x.link=n?.dataset?.link}function Ft(){document.body.dataset.mark=T.debug?"true":(!Mt(null,!0)).toString()}function It(){let e=Mt(null,!0);e&&(ye("Missing/Incorrect Data",e),Ft())}function Lt(e,t=e.dataset.default){e.value.trim()||G(t,e.dataset.dest??e.dataset.destNoauto)}function Rt(e){for(let t of e)t.remove()}function zt(e,t="section"){let n=document.querySelectorAll(`[data-${t}="${e}"]`);Rt(Array.from(n))}function Bt(){let e=b.oldName,t=S.output.oldName.parentElement;t&&(t.style.display=e?"":"none")}function Vt(e,t){let n=[0];for(let r of e){let e=$(o(r,t));n.push(e)}return n.sort(function(e,t){return e-t}),n[n.length-1]+1;function o(e,t){if(void 0===e)return!1;let n=t.indexOf(".");return n>-1?o(e[t.substring(0,n)],t.substring(n+1)):e[t]}}function Ht(e,t=!1){let n={};if(!t)return Object.keys(e).sort().reduce((t,n)=>(t[n]=e[n],t),n);let o=Object.keys(Ht(e)),r=o.map(e=>$(e)).map(Number).sort((e,t)=>e-t);for(let t of r){let r=o.findIndex(e=>$(e)===t),a=o[r];o.splice(r,1),n[a]=e[a]}return n}function $(e){let t=e?.match(/[0-9]/g)?.join("");return t?parseInt(t):""}function Ut(e){return e%2==0?"even":"odd"}function Wt(e,t={},n=[]){let o=e;for(let e in t)o=o.replaceAll("${"+e+"}",t[e]);if(!n.length)return o;let r=(new DOMParser).parseFromString(o,"text/html");for(let e of n){let t=r.querySelectorAll(`[data-evt-id="${e.element}"]`);for(let n of Array.from(t))j({element:n,handler:e.handler??void 0,func:e.func})}return r}function Gt(e,t){let n=new Event(t);e.dispatchEvent(n)}function Kt(){return window.location.pathname.split("/").at(-1).slice(0,-5)}function qt(e,t,n="afterbegin"){let o=Array.from(e.body.children);("afterbegin"===n||"afterend"===n)&&o.reverse();for(let e of o)t.insertAdjacentElement(n,e)}function Jt(){return"Rare Fauna Album#Sandworm|Rare Fauna"}function Yt(e){e.maxLength=e.value.startsWith("-")?4:3}function Xt(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function Zt(){Ye().$reset()}function Qt(){let e=Qe();return A(Object.entries(e).join())}function $t(e,t=void 0,n=!1){return kt(e,t,n)||!e||["+","-"].includes(e)?"":"Must only contain numbers"}function en(e,t){return!t.includes(e)&&e?'Not a valid option. If you believe this is an error, submit a <a href="https://forms.gle/LRhzWjMRkXoKd9CcA" rel="noreferrer noopener" target="_blank">bug report</a>.':""}var tn="0123456789ABCDEF";function nn(e,t){if(!e)return;let n=[];for(let e of tn){let t=o(e);n.push(t)}e.innerHTML="";for(let t of n)e.appendChild(t);function o(e){let n=document.createElement("button"),o=document.createElement("span");return n.type="button",n.dataset.inputBind=t,n.classList.add("button"),n.value=e,n.addEventListener("click",function(){rn(this)}),o.classList.add("glyph","icon","is-small"),o.innerText=e,n.appendChild(o),n}}function rn(e){let t=e?.dataset?.inputBind??"",n=S.input[t]??document.getElementById(t)??e?.closest(".tableHeader")?.previousElementSibling?.querySelector("input");n.value.length<12&&(n.value+=e.value),Gt(n,"input")}function an(){let e=S.input.portalglyphsInput,t=e.value;b.portalglyphs=t,G(t,e.dataset.destNoauto),O("galacticCoords").length&&G(ln(t),"galacticCoords")}function on(e=void 0){let t=e?.dataset?.inputBind??"",n=t?S.input[t]??document.getElementById(t):e?e.closest(".table-cell")?.nextElementSibling?.querySelector("input"):S.input.portalglyphsInput,o=n.value?.split("");o.pop(),n.value=o.join(""),Gt(n,"input")}function sn(e){let t=e?.value?.toUpperCase?.();null!=t&&(e.value=cn(t))}function cn(e){return e.split("").filter(e=>tn.includes(e)).join("").substring(0,12)}function ln(e){if(12!=e.length)return"";let t=2049,n=parseInt(e.substring(9,12),16),o=parseInt(e.substring(4,6),16),r=parseInt(e.substring(6,9),16),a=e.substring(1,4),l=0,i=0,s=0;l=n>=t?n-t:n+2047,s=r>=t?r-t:r+2047,i=o>=129?o-129:o+127;let u=[],c=[l,i,s];for(let e=0;e<3;e++)u[e]=c[e].toString(16).toUpperCase().padStart(4,"0");return u[3]=a.padStart(4,"0"),u.join(":")}export{Ht as $,Jt as A,y as At,Q as B,jt as C,re as Ct,Kt as D,ee as Dt,Vt as E,x as Et,gt as F,Nt as G,mt as H,Yt as I,vt as J,Rt as K,Wt as L,X as M,b as Mt,wt as N,T as Nt,lt as O,S as Ot,Bt as P,v as Pt,ft as Q,Ot as R,$ as S,ne as St,xt as T,D as Tt,It as U,Ut as V,Et as W,Y as X,Zt as Y,ut as Z,Dt as _,_e as _t,ln as a,J as at,Z as b,he as bt,ht as c,Ye as ct,Xt as d,Je as dt,q as et,Mt as f,we as ft,yt as g,be as gt,bt as h,Te as ht,sn as i,G as it,Qt as j,E as jt,Pt as k,C as kt,Lt as l,Re as lt,At as m,Ce as mt,on as n,Gt as nt,qt as o,Qe as ot,K as p,Se as pt,zt as q,an as r,Ct as rt,St as s,Ze as st,nn as t,_t as tt,dt as u,H as ut,Tt as v,de as vt,en as w,te as wt,pt as x,A as xt,Ft as y,j as yt,$t as z};
