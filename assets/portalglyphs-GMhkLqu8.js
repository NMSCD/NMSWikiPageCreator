"use strict";import{B as xt,C as ce,F as rt,H as fe,I as U,L as St,N as Et,P as de,R as pe,S as me,St as ge,U as he,V as wt,d as At,k as ye,vt as be,x as ve,z as xe}from"./vue.runtime.esm-bundler-3ZgqKN1E.js";const kt="https://nomanssky.fandom.com/wiki/",Se={},E={},C={text:"",copy:!1,link:""},A={input:{},output:{}},ot={},Ee=[],F={},W={},we={Royal:"Sentinel Pillar",Sentinel:"Harmonic Camp",Atlantid:"Monolith"};var D={input:{version:"versionInput",fileInput:"fileInput",fileUpload:"fileUpload",portalglyphsInput:"portalglyphsInput",researchTeam:"researchteamInput",galleryUpload:"galleryUpload"},output:{output:"output",portalglyphButtons:"portalglyphButtons",galleryItems:"galleryItems",galleryCode:"galleryCode",explanation:"explanation",fullArticle:"fullArticle",actions:"actions",albumActions:"albumActions",albumEntry:"albumEntry",footer:"footer"}};function Ae(t){for(let e of Object.entries(t)){let r=e[0],n=e[1];for(let[l,a]of Object.entries(n)){let s=P(a);s!=null&&(A[r]??={},A[r][l]=s.length>1?s:s[0])}}}function P(t){let e=Array.from(document.getElementsByName(t));if(!e.length){let r=document.getElementById(t);r&&e.push(r)}return e}function ke(){let t=document.querySelectorAll("input, select, textarea"),e=Object.values(D.input);for(let r of Array.from(t))e.includes(r.id)||(D.input[r.id]=r.id)}function Ie(){let t=document.getElementsByTagName("output"),e=Object.values(D.output);for(let r of Array.from(t)){if(e.includes(r.name)||e.includes(r.id))continue;let n=r.name||r.id;D.output[n]=n}}var je=/^\s*([^=|{}[\]]*)=/,Te=/\|/m,Le=/}}/m,at=/(\[\[|\{\{)/m;function It(t){let e=RegExp(/^(\{\{|\[\[)(.*)/).exec(t);if(!e)return 0;let r=e[1].length;t=t.slice(r);let n;e[1]==="{{"?n=/\}\}/m:e[1]==="[["&&(n=/\]\]/m);let l=RegExp(at).exec(t),a=RegExp(n??"").exec(t);for(;l&&(!a||l.index<a.index);){t=t.slice(l.index);let s=It(t);r+=l.index+s,t=t.slice(s),l=RegExp(at).exec(t),a=RegExp(n??"").exec(t)}return r+=(a?.index??0)+(a?.[0].length??0),r}function Oe(t,e){let r=[],n=RegExp("(\\{\\{\\s*"+e+"\\s*(\\||\\}\\}))","im"),l=RegExp(n).exec(t);for(;l;){let a={},s=1;if(t=t.slice(l.index+l[1].length),t.startsWith(`
`)&&(t=t.slice(1)),l[2]==="}}"){r.push(a),l=RegExp(n).exec(t);continue}let u=null,f="",h=!1;for(;!h;){let y=RegExp(je).exec(t),v=RegExp(at).exec(t),w=RegExp(Te).exec(t),I=RegExp(Le).exec(t);if(f===""&&y)u=y[1].trim(),t=t.slice(y[0].length);else if(w&&(!v||w.index<v.index)&&(!I||w.index<I.index))f+=t.slice(0,w.index),t=t.slice(w.index+1),(f!==""||u)&&(a[u??s]=f.trim()),s++,u=null,f="";else if(v&&(!I||v.index<I.index)){let R=It(t.slice(v.index));f+=t.slice(0,v.index+R),t=t.slice(v.index+R)}else I&&(f+=t.slice(0,I.index),t=t.slice(I.index+2),(f!==""||u)&&(a[u??s]=f.trim()),r.push(a)),h=!0}l=RegExp(n).exec(t)}return r}var $e=ge(be(((t,e)=>{(function(r){function n(o,g){var i=(o&65535)+(g&65535);return(o>>16)+(g>>16)+(i>>16)<<16|i&65535}function l(o,g){return o<<g|o>>>32-g}function a(o,g,i,b,S,k){return n(l(n(n(g,o),n(b,k)),S),i)}function s(o,g,i,b,S,k,j){return a(g&i|~g&b,o,g,S,k,j)}function u(o,g,i,b,S,k,j){return a(g&b|i&~b,o,g,S,k,j)}function f(o,g,i,b,S,k,j){return a(g^i^b,o,g,S,k,j)}function h(o,g,i,b,S,k,j){return a(i^(g|~b),o,g,S,k,j)}function y(o,g){o[g>>5]|=128<<g%32,o[(g+64>>>9<<4)+14]=g;var i,b,S,k,j,d=1732584193,c=-271733879,p=-1732584194,m=271733878;for(i=0;i<o.length;i+=16)b=d,S=c,k=p,j=m,d=s(d,c,p,m,o[i],7,-680876936),m=s(m,d,c,p,o[i+1],12,-389564586),p=s(p,m,d,c,o[i+2],17,606105819),c=s(c,p,m,d,o[i+3],22,-1044525330),d=s(d,c,p,m,o[i+4],7,-176418897),m=s(m,d,c,p,o[i+5],12,1200080426),p=s(p,m,d,c,o[i+6],17,-1473231341),c=s(c,p,m,d,o[i+7],22,-45705983),d=s(d,c,p,m,o[i+8],7,1770035416),m=s(m,d,c,p,o[i+9],12,-1958414417),p=s(p,m,d,c,o[i+10],17,-42063),c=s(c,p,m,d,o[i+11],22,-1990404162),d=s(d,c,p,m,o[i+12],7,1804603682),m=s(m,d,c,p,o[i+13],12,-40341101),p=s(p,m,d,c,o[i+14],17,-1502002290),c=s(c,p,m,d,o[i+15],22,1236535329),d=u(d,c,p,m,o[i+1],5,-165796510),m=u(m,d,c,p,o[i+6],9,-1069501632),p=u(p,m,d,c,o[i+11],14,643717713),c=u(c,p,m,d,o[i],20,-373897302),d=u(d,c,p,m,o[i+5],5,-701558691),m=u(m,d,c,p,o[i+10],9,38016083),p=u(p,m,d,c,o[i+15],14,-660478335),c=u(c,p,m,d,o[i+4],20,-405537848),d=u(d,c,p,m,o[i+9],5,568446438),m=u(m,d,c,p,o[i+14],9,-1019803690),p=u(p,m,d,c,o[i+3],14,-187363961),c=u(c,p,m,d,o[i+8],20,1163531501),d=u(d,c,p,m,o[i+13],5,-1444681467),m=u(m,d,c,p,o[i+2],9,-51403784),p=u(p,m,d,c,o[i+7],14,1735328473),c=u(c,p,m,d,o[i+12],20,-1926607734),d=f(d,c,p,m,o[i+5],4,-378558),m=f(m,d,c,p,o[i+8],11,-2022574463),p=f(p,m,d,c,o[i+11],16,1839030562),c=f(c,p,m,d,o[i+14],23,-35309556),d=f(d,c,p,m,o[i+1],4,-1530992060),m=f(m,d,c,p,o[i+4],11,1272893353),p=f(p,m,d,c,o[i+7],16,-155497632),c=f(c,p,m,d,o[i+10],23,-1094730640),d=f(d,c,p,m,o[i+13],4,681279174),m=f(m,d,c,p,o[i],11,-358537222),p=f(p,m,d,c,o[i+3],16,-722521979),c=f(c,p,m,d,o[i+6],23,76029189),d=f(d,c,p,m,o[i+9],4,-640364487),m=f(m,d,c,p,o[i+12],11,-421815835),p=f(p,m,d,c,o[i+15],16,530742520),c=f(c,p,m,d,o[i+2],23,-995338651),d=h(d,c,p,m,o[i],6,-198630844),m=h(m,d,c,p,o[i+7],10,1126891415),p=h(p,m,d,c,o[i+14],15,-1416354905),c=h(c,p,m,d,o[i+5],21,-57434055),d=h(d,c,p,m,o[i+12],6,1700485571),m=h(m,d,c,p,o[i+3],10,-1894986606),p=h(p,m,d,c,o[i+10],15,-1051523),c=h(c,p,m,d,o[i+1],21,-2054922799),d=h(d,c,p,m,o[i+8],6,1873313359),m=h(m,d,c,p,o[i+15],10,-30611744),p=h(p,m,d,c,o[i+6],15,-1560198380),c=h(c,p,m,d,o[i+13],21,1309151649),d=h(d,c,p,m,o[i+4],6,-145523070),m=h(m,d,c,p,o[i+11],10,-1120210379),p=h(p,m,d,c,o[i+2],15,718787259),c=h(c,p,m,d,o[i+9],21,-343485551),d=n(d,b),c=n(c,S),p=n(p,k),m=n(m,j);return[d,c,p,m]}function v(o){var g,i="",b=o.length*32;for(g=0;g<b;g+=8)i+=String.fromCharCode(o[g>>5]>>>g%32&255);return i}function w(o){var g,i=[];for(i[(o.length>>2)-1]=void 0,g=0;g<i.length;g+=1)i[g]=0;var b=o.length*8;for(g=0;g<b;g+=8)i[g>>5]|=(o.charCodeAt(g/8)&255)<<g%32;return i}function I(o){return v(y(w(o),o.length*8))}function R(o,g){var i,b=w(o),S=[],k=[],j;for(S[15]=k[15]=void 0,b.length>16&&(b=y(b,o.length*8)),i=0;i<16;i+=1)S[i]=b[i]^909522486,k[i]=b[i]^1549556828;return j=y(S.concat(w(g)),512+g.length*8),v(y(k.concat(j),640))}function H(o){var g="0123456789abcdef",i="",b,S;for(S=0;S<o.length;S+=1)b=o.charCodeAt(S),i+=g.charAt(b>>>4&15)+g.charAt(b&15);return i}function q(o){return unescape(encodeURIComponent(o))}function X(o){return I(q(o))}function J(o){return H(X(o))}function L(o,g){return R(q(o),q(g))}function B(o,g){return H(L(o,g))}function x(o,g,i){return g?i?L(g,o):B(g,o):i?X(o):J(o)}typeof define=="function"&&define.amd?define(function(){return x}):typeof e=="object"&&e.exports?e.exports=x:r.md5=x})(t)}))(),1);function K(t){return Array.isArray(t)&&(t=t.join("")),(0,$e.default)(t)}function Ce(t){let e=[t].flat(),r=K(e[0].outerHTML);for(let n of e)n.dataset.hash||=r;return e[0].dataset.hash}function z(t){if(Array.isArray(t.element)){let a=structuredClone(t.element);for(let s of a)t.element=s,z(t);return}if(!E.eventListeners&&!["about","","flora","mineral"].includes(le())){Me(t);return}let{handler:e,func:r}=t,n=t.element,l=[Tt(n)].flat();for(let a of l)Ot(a,Lt(e,a),r)}function jt(t){for(let e of t)z(e)}function Tt(t){return typeof t=="string"?A.input[t]?A.input[t]:P(t):t}function Lt(t,e){let r=e?.tagName?.toLowerCase(),n=r==="input"?e.type:"";return t??(r==="select"||n==="radio"||n==="checkbox"?"change":"input")}function Me(t){let e=[t].flat();for(let r of e){let n=Tt(r.element);if(Array.isArray(n)&&!n.length)continue;let l=Ce(n),a=Lt(r.handler,n);F[l]??={},F[l][a]||(F[l][a]={element:n,func:[]}),F[l][a].func[r.prio?"unshift":"push"](r.func)}}function Ne(){for(let t of Object.values(F))for(let[e,r]of Object.entries(t))for(let n of r.func){let l=[r.element].flat();for(let a of l)Ot(a,e,n),delete a.dataset.hash}}function Ot(t,e,r){t?.addEventListener(e,r),(t.dataset.listeners??=e).split(" ").includes(e)||(t.dataset.listeners+=` ${e}`)}const Re=`
	<h2 id="explanationHeading" class="title is-4"></h2>
	<div id="explanationContent" class="nms-font"></div>
	<a id="explanationLink" target="_blank" rel="noopener noreferrer">
		<picture>
			<source type="image/webp" id="explanationWebpImg">
			<img id="explanationFallbackImg" alt="Explainer Image">
		</picture>
	</a>
	<form method="dialog">
		<button class="button" type="submit" autofocus>Close</button>
	</form>`;var $t=new Set;function lt(t="",e="",r=""){let n=A.output.explanationFallbackImg,l=A.output.explanationWebpImg,a=A.output.explanationLink,s=A.output.explanation,u=r.trim();if(u){let f=$t.has(u);if(a.classList.toggle("loading",!f),!f||n.getAttribute("src")!==`./assets/images/jpg/${u}.jpg`){let h={webp:l,jpg:n};for(let[y,v]of Object.entries(h)){let w=v.tagName==="IMG"?"src":"srcset";v[w]="",setTimeout(()=>{v[w]=`./assets/images/${y}/${u}.${y}`},0)}a.href=`./assets/images/jpg/${u}.jpg`,f||(n.style.opacity="0",n.style.marginBlockStart="0")}}a.style.display=u?"":"none",A.output.explanationHeading.innerText=t,A.output.explanationContent.innerHTML=e,s.style.translate="0 -100vh",s.showModal(),s.style.translate="0 0",s.scrollTo(0,0),n.onload=()=>{n.style.marginBlockStart="1rem",n.style.opacity="1",$t.add(u)}}function Be(t=document){let e=t.querySelectorAll("button.tooltip");for(let n of Array.from(e))r(n);function r(n){let l=n.getElementsByTagName("data");if(!l.length)return;let a=[];for(let f of Array.from(l)){let h=f.innerHTML;a.push(h)}let s=document.createElement("img");s.src="./assets/icons/help.svg",s.alt="Help";let u=document.createElement("p");u.classList.add("tooltiptext","nms-font"),u.innerHTML=a.shift(),a.length?z({element:n,handler:"click",func:()=>lt(...a)}):n.ariaDisabled="true",n.innerHTML=s.outerHTML,n.appendChild(u)}}const Ct={};Object.freeze(Ct);function Mt(t=E.moon){return t?"Moon":"Planet"}function Nt(t=E.planet,e=E.moon,r=!1){let n=A.output.celestialBody,l=Mt(e),a=T(t),s=T(e),u=r?"[[":"",f=r?"]]":"",h=(l==="Moon"?`${u}moon${f} [[${s}]] of the `:"")+`${u}planet${f} [[${a}]]`;return n&&(n.innerText=h),h}function Rt(t){let e=Object.values(Ct).indexOf(t);return e===-1?"":(e+1).toString()}function _e(t){return`${Rt(t)}`}var He=typeof window<"u",Bt,G=t=>Bt=t,_t=Symbol();function it(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var V;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(V||={});var Ht=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null};function qe(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function st(t,e,r){let n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ue(n.response,e,r)},n.onerror=function(){console.error("could not download file")},n.send()}function qt(t){let e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Y(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{let e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});t.dispatchEvent(e)}}var Z=typeof navigator=="object"?navigator:{userAgent:""},Ut=/Macintosh/.test(Z.userAgent)&&/AppleWebKit/.test(Z.userAgent)&&!/Safari/.test(Z.userAgent),Ue=He?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Ut?Fe:"msSaveOrOpenBlob"in Z?We:De:()=>{};function Fe(t,e="download",r){let n=document.createElement("a");n.download=e,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin===location.origin?Y(n):qt(n.href)?st(t,e,r):(n.target="_blank",Y(n))):(n.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(n.href)},4e4),setTimeout(function(){Y(n)},0))}function We(t,e="download",r){if(typeof t=="string")if(qt(t))st(t,e,r);else{let n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Y(n)})}else navigator.msSaveOrOpenBlob(qe(t,r),e)}function De(t,e,r,n){if(n||=open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return st(t,e,r);let l=t.type==="application/octet-stream",a=/constructor/i.test(String(Ht.HTMLElement))||"safari"in Ht,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||l&&a||Ut)&&typeof FileReader<"u"){let u=new FileReader;u.onloadend=function(){let f=u.result;if(typeof f!="string")throw n=null,Error("Wrong reader.result type");f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location.assign(f),n=null},u.readAsDataURL(t)}else{let u=URL.createObjectURL(t);n?n.location.assign(u):location.href=u,n=null,setTimeout(function(){URL.revokeObjectURL(u)},4e4)}}var{assign:Dn}=Object;function Pe(){let t=Et(!0),e=t.run(()=>xt({})),r=[],n=[],l=St({install(a){G(l),l._a=a,a.provide(_t,l),a.config.globalProperties.$pinia=l,n.forEach(s=>r.push(s)),n=[]},use(a){return this._a?r.push(a):n.push(a),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return l}var Ft=()=>{};function Wt(t,e,r,n=Ft){t.add(e);let l=()=>{t.delete(e)&&n()};return!r&&de()&&pe(l),l}function _(t,...e){t.forEach(r=>{r(...e)})}var Ke=t=>t(),Dt=Symbol(),ut=Symbol();function ct(t,e){for(let r in t instanceof Map&&e instanceof Map?e.forEach((n,l)=>t.set(l,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t),e){if(!e.hasOwnProperty(r))continue;let n=e[r],l=t[r];it(l)&&it(n)&&t.hasOwnProperty(r)&&!U(n)&&!rt(n)?t[r]=ct(l,n):t[r]=n}return t}var ze=Symbol();function Xe(t){return!it(t)||!Object.prototype.hasOwnProperty.call(t,ze)}var{assign:M}=Object;function Je(t){return!!(U(t)&&t.effect)}function Ge(t,e,r,n){let{state:l,actions:a,getters:s}=e,u=r.state.value[t],f;function h(){return u||(r.state.value[t]=l?l():{}),M(he(r.state.value[t]),a,Object.keys(s||{}).reduce((y,v)=>(y[v]=St(At(()=>{G(r);let w=r._s.get(t);return s[v].call(w,w)})),y),{}))}return f=Pt(t,h,e,r,n,!0),f}function Pt(t,e,r={},n,l,a){let s,u=M({actions:{}},r),f={deep:!0},h,y,v=new Set,w=new Set,I=n.state.value[t];!a&&!I&&(n.state.value[t]={}),xt({});let R;function H(x){let o;h=y=!1,typeof x=="function"?(x(n.state.value[t]),o={type:V.patchFunction,storeId:t,events:void 0}):(ct(n.state.value[t],x),o={type:V.patchObject,payload:x,storeId:t,events:void 0});let g=R=Symbol();ce().then(()=>{R===g&&(h=!0)}),y=!0,_(v,o,n.state.value[t])}let q=a?function(){let{state:x}=r,o=x?x():{};this.$patch(g=>{M(g,o)})}:Ft;function X(){s.stop(),v.clear(),w.clear(),n._s.delete(t)}let J=(x,o="")=>{if(Dt in x)return x[ut]=o,x;let g=function(){G(n);let i=Array.from(arguments),b=new Set,S=new Set;function k(c){b.add(c)}function j(c){S.add(c)}_(w,{args:i,name:g[ut],store:L,after:k,onError:j});let d;try{d=x.apply(this&&this.$id===t?this:L,i)}catch(c){throw _(S,c),c}return d instanceof Promise?d.then(c=>(_(b,c),c)).catch(c=>(_(S,c),Promise.reject(c))):(_(b,d),d)};return g[Dt]=!0,g[ut]=o,g},L=xe({_p:n,$id:t,$onAction:Wt.bind(null,w),$patch:H,$reset:q,$subscribe(x,o={}){let g=Wt(v,x,o.detached,()=>i()),i=s.run(()=>ye(()=>n.state.value[t],b=>{(o.flush==="sync"?y:h)&&x({storeId:t,type:V.direct,events:void 0},b)},M({},f,o)));return g},$dispose:X});n._s.set(t,L);let B=(n._a&&n._a.runWithContext||Ke)(()=>n._e.run(()=>(s=Et()).run(()=>e({action:J}))));for(let x in B){let o=B[x];U(o)&&!Je(o)||rt(o)?a||(I&&Xe(o)&&(U(o)?o.value=I[x]:ct(o,I[x])),n.state.value[t][x]=o):typeof o=="function"&&(B[x]=J(o,x),u.actions[x]=o)}return M(L,B),M(wt(L),B),Object.defineProperty(L,"$state",{get:()=>n.state.value[t],set:x=>{H(o=>{M(o,x)})}}),n._p.forEach(x=>{M(L,s.run(()=>x({store:L,app:n._a,pinia:n,options:u})))}),I&&a&&r.hydrate&&r.hydrate(L.$state,I),h=!0,y=!0,L}function Q(t,e,r){let n,l=typeof e=="function";n=l?r:e;function a(s,u){let f=ve();return s||=f?me(_t,null):null,s&&G(s),s=Bt,s._s.has(t)||(l?Pt(t,e,n,s):Ge(t,n,s)),s._s.get(t)}return a.$id=t,a}function Ve(t){let e=wt(t),r={};for(let n in e){let l=e[n];l.effect?r[n]=At({get:()=>t[n],set(a){t[n]=a}}):(U(l)||rt(l))&&(r[n]=fe(t,n))}return r}const Kt=Q("gallery",{state:()=>({galleryFiles:[],locationFiles:[]})});var Ye=window.location.pathname.split("/").at(-1).slice(0,-5);const Ze=Q("staticPageData",{state:()=>({route:Ye,fullArticleElement:null,debug:!1})});var O=()=>JSON.parse(localStorage.getItem("defaultSettings")??"{}");const zt=Q("pageData",{state:()=>({release:"",name:"",image:"",region:O().regionInput??"",galaxy:O().galaxyInput??"",hubname:O().hubnameInput??"",discovered:O()["discoveredInput builderInput"]??"",discoveredlink:O()["discoveredlinkInput builderlinkInput"]??"",orgName:"",system:O().systemInput??"",planet:O().planetInput??"",moon:O().moonInput??"",glyphs:O().portalglyphsInput??"",type:"",biome:"Lush",age:"",roots:"",nutrients:"",notes:"",elements:[],polymorphic:"",discDate:"",docBy:O().docbyInput??"",researchteam:O().researchteamInput??"",appearance:"",pageName:"",platform:O().platformInput??"",wealth:O().wealthInput??"",formation:"",content:""}),getters:{sanitisedStrings:t=>({name:T(t.name),discovered:T(t.discovered),discoveredlink:T(t.discoveredlink),system:T(t.system),planet:T(t.planet),moon:T(t.moon),orgName:T(t.orgName),appearance:T(t.appearance)}),docBySentence:t=>{let e=t.docBy.startsWith("{{"),r=t.researchteam.trim().length>0,n=e?t.docBy:`''${t.docBy}''`,l=t.researchteam.includes("Wiki")?"":`[[${t.researchteam}]] member`;return`${r?l:""} ${n}`}}});function ft(t){return!!t&&typeof t=="object"}function Qe(t){if(!ft(t)||!("parse"in t))return!1;let{parse:e}=t;if(!ft(e)||!("wikitext"in e))return!1;let{wikitext:r}=e;return!ft(r)||!("*"in r)?!1:typeof r["*"]=="string"}var tn="https://nomanssky.fandom.com/api.php",en={format:"json",origin:"*",action:"parse"},nn=t=>({...en,page:t}),rn=(t,e)=>({...nn(t),prop:"wikitext",section:e}),on=t=>`${tn}?${Object.entries(t).map(e=>e.join("=")).join("&")}`,an=(t,e)=>on(rn(t,e));async function ln(t,e){let r=await sn(an(t,e));if(Qe(r))return r.parse.wikitext["*"]}async function sn(t){let e=await(await fetch(t)).text();return JSON.parse(e)}function Xt(){return{inputs:document.querySelectorAll("[data-dest]"),checkboxes:document.querySelectorAll("[data-dest-checkbox]"),stores:document.querySelectorAll("[data-dest-noauto]"),defaults:document.querySelectorAll("[data-default]"),simple:document.querySelectorAll("[data-dest-simple]"),number:document.querySelectorAll("[data-dest-number]"),lists:document.querySelectorAll("[list]")}}async function un(){let t=localStorage.getItem("release")??"";$(t,"release");try{let e=Oe(await ln("Template:Base preload",0)??"","Version")[0][1];return e&&e!==t&&(localStorage.setItem("release",e),$(e,"release")),e||t}catch(e){return console.error(e),t}}function cn(t,e,r=e){let n=[];for(let a=0;a<e.length;a++){let s=e[a],u=r[a],f=document.createElement("option");f.value=s,f.innerText=u,n.push(f.outerHTML)}let l=n.join("");t.innerHTML!==l&&(t.innerHTML=l)}function fn(){let t=Xt(),e=[{elements:t.number,func:function(){et(this,parseInt(this.dataset.destNumber)||void 0)}},{elements:t.defaults,func:function(){bt(this)}},{elements:t.inputs,func:function(){$(this)}},{elements:t.checkboxes,func:function(){dt(this)}},{elements:t.stores,func:function(){pt(this)}},{elements:t.simple,func:function(){mt(this)}},{elements:t.lists,handler:"change",func:function(){ee(this)}}],r=[];for(let n of e){let{elements:l,handler:a,func:s}=n;for(let u of Array.from(l)){let f={element:u,handler:a,func:s,prio:!0};r.push(f)}}jt(r)}function dn(){let t=Xt();for(let e of Array.from(t.inputs))$(e);for(let e of Array.from(t.checkboxes))dt(e);for(let e of Array.from(t.stores))pt(e);for(let e of Array.from(t.defaults))bt(e);for(let e of Array.from(t.simple))mt(e);et(),Jt(A.input.fileUpload);try{se(A.input.portalglyphsInput)}catch{}try{Nt()}catch{}tt()}function $(t,e=t?.dataset?.dest){let r=typeof e=="string"?P(e):[],n=T(typeof t=="string"?t:t.value);if(e)E[e]=n;else if(typeof t!="string"){if(!t.dataset.destNoauto)return;E[t.dataset.destNoauto]=n;return}for(let l of r)try{l.innerText=n}catch(a){console.error("destElement is null. Element:",t,"Value:",n,"Stacktrace:",a);continue}}function dt(t){let e=t.dataset.destCheckbox,r=document.getElementById(e),n=t.value,l=t.dataset.checkboxUnchecked??"";t.checked?(r.innerText=n,E[e]=n):(r.innerText=l,E[e]=l)}function pt(t,e=t.dataset.destNoauto){E[e]=T(t.value)}function pn(){let t=r=>new URL(r).origin!==location.origin,e=document.getElementsByTagName("a");for(let r of Array.from(e))!r.href||!t(r.href)||(r.target||="_blank",r.rel||="noopener noreferrer")}function mn(){let t=document.querySelectorAll("a[data-wiki]");for(let e of Array.from(t)){e.target||="_blank",e.rel||="noopener noreferrer",delete e.dataset.wiki;let r=e.getAttribute("href");r.startsWith("http")||(e.href=kt+r)}}function mt(t,e=t.dataset.destSimple){let r=Array.from(document.getElementsByName(e));r.length||r.push(document.getElementById(e));for(let n of r)n.innerText=t.value}function gn(t,e){Object.defineProperty(E,t,{configurable:!1,writable:!1,value:e})}function T(t){let e=["{","}","[","]"],r=[],n=t.split("[http");for(let u=0;u<n.length;u++){let f=l(n[u],u!==0);r.push(f)}return r.join("[http").replace(/\n{3,}/g,`

`).trim();function l(u,f=!1){let h=u;for(let y of e)h=f&&y==="]"?s(h,y):a(h,y);return h}function a(u,f){let h=f.repeat(2);return u.split(h).map(y=>y.replaceAll(f,"")).join(h)}function s(u,f){let h=u.indexOf(f),y=a(u,f).split("");return y.splice(h,0,f),y.join("")}}function Jt(t){let e=t?.files?.[0]?.name;if(!e)return;N(t,t.files[0].size>1e7?'This file is too big to be uploaded to the wiki. Maximum filesize is 10MB. Compress your file here: <a href="https://nmscd.com/Image-Compressor/" target="_blank" rel="noopener noreferrer">Image Compressor</a>':"");let r=t.previousElementSibling;r.value=T(e),$(r),!W.uploadShown&&(lt("Upload your picture to the wiki!",`Don't forget to upload your picture to the wiki on <a href="https://nomanssky.fandom.com/wiki/Special:Upload?multiple=true" target="_blank" rel="noopener noreferrer">Special:Upload</a>.
	The upload button only auto-filled the image name into the code, it is not automatically uploaded to the wiki.
	<div class="mt-3"><span class="has-text-weight-bold">NOTE</span>: You can access this popup at any time by clicking on the "?" next to the main image upload button.</div>`),W.uploadShown=!0)}function hn(t="",e=void 0,r="section"){let n=document.querySelectorAll(`[data-${r}~="${t}"]`),l=document.querySelectorAll("[data-button-id]"),a=oe(Array.from(l),"dataset.buttonId");if(!arguments.length){let f=document.querySelectorAll(".sectionToggle button");for(let h=0;h<f.length;h++){let y=f[h];y.dataset.buttonId??=(a+h).toString();let v=y.dataset.buttonId;y.dataset[`display${v}`]=y.dataset.displayDefault??""}return}e.dataset.buttonId??=a.toString();let s=`display${e.dataset.buttonId}`,u=e.dataset[s];for(let f of Array.from(n)){let h=f.dataset,y=!1;for(let v in h)if(!(!v.includes("display")||v===s)&&h[v]==="none"){y=!0;break}y||(f.style.display=u?"":"none",f.dataset[s]=u?"":"none")}e.innerText=u?"Hide":"Show",e.dataset[s]=u?"":"none"}function yn(){let{value:t,dataset:{destNoauto:e}}=A.input.researchTeam;if(!e)return;E[e]=t;let r=t,n=A.output[e];n.innerText=r}function bn(){if(typeof ot.docByExternal=="function"){ot.docByExternal();return}let t=A.input.docbyInput;if(!t)return;let e=T(t.value),r=E.discovered??E.builder,n=E.discoveredlink??E.builderlink,l=t.dataset.destNoauto;if(!l)return;let a=Gt(),s=Vt(e),u=[r,n],f=A.output[l];e&&!u.includes(e)?(f.style.display="",f.innerText=`Documented by ${a} ${s}`):f.style.display="none",Yt()}function Gt(){let t=E.researchteam;return t&&`[[${t}]] member`}function Vt(t){return t&&(t.includes("[")||t.includes("{")?t:`''${t}''`)}function tt(t="",e=""){if(!t&&!e){let l=document.querySelectorAll("[data-player]"),a=new Set,s=[];for(let u of Array.from(l)){if(a.has(u))continue;let f=u.closest(".table-cell"),h=[f?.previousElementSibling?.previousElementSibling?.querySelector("input"),f?.nextElementSibling?.nextElementSibling?.querySelector("input")].find(v=>Array.from(l).includes(v)),y=[u,h];a.add(h),s.push(y)}for(let u of s){let f=u[0],h=u[1];f?.value?tt(f.id,h.id):h?.value?tt(h.id,f.id):u.forEach(y=>gt(y,""))}return}let r=document.getElementById(t),n=document.getElementById(e);gt(n,r.value?"none":""),n.value="",$(n)}function Yt(){let t=document.querySelectorAll("[data-add-info]"),e=[];for(let r of Array.from(t))!r.nextElementSibling?.style.display&&r.nextElementSibling?.innerText&&e.push(r),r.innerHTML="";for(let r of e)e.length>1?r.innerHTML=r.dataset.addInfo:r.innerHTML=""}function N(t,e=""){let r=t.closest(".data");if(r?.querySelector(".error")?.remove(),t.style.backgroundColor="",r.previousElementSibling.style.alignItems="",!e)return;t.style.backgroundColor="red";let n=document.createElement("div");n.innerHTML=e,n.className="error",r.appendChild(n),r.previousElementSibling.style.alignItems="baseline"}function vn(t=!0){let e=A.input.axesInput,r=e.value;if(!r||Zt(r,new RegExp(/[+-](?:[0-9]{1,3})\.(?:[0-9]{2}), [+-](?:[0-9]{1,3})\.(?:[0-9]{2})/))){N(e);return}return t&&N(e,"Invalid coordinate format"),"error"}function gt(t,e=""){let r=t.closest(".table-cell"),n=[r.previousElementSibling,r];for(let l of n)l.style.display?l.style.display=e??"":l.style.display=e??"none"}function xn(t,e=void 0){let r=RegExp(/[a-zA-Z]/).exec(t)?.[0]?.toLowerCase(),n="aeiou".includes(r)?"an":"a";return e&&$(n,e),n}function Zt(t,e){let r=RegExp(e).exec(t);return r?.length===1&&r[0]?.length===t.length}function Sn(){return E.researchteam==="Wiki Scholars"?" and documented by the [[Eisvana Wiki Scholars]]":""}function et(t=null,e=void 0,r=!1){if(arguments.length===0){let u=document.querySelectorAll("[data-dest-number]");for(let f of Array.from(u)){let h=f.dataset.destNumber;et(f,parseInt(h)||void 0)}return}if(!t)return;let n=t.dataset.destNoauto,l=E[n],a=l.startsWith("-")&&!parseFloat(l)?"-":"",s=Qt(t,l,e,r);P(n)[0]?$(a+s.toString(),n):E[n]=a+s}function Qt(t,e=t.value,r=void 0,n=!1){let l=te(e,r,n);return l||!e||["+","-"].includes(e)?N(t):N(t,"Must only contain numbers"),l}function te(t,e=void 0,r=!1){let n=parseFloat(t.replaceAll(",","")),l=parseInt(String(e)),a=isNaN(n)?"":isNaN(l)?n:n.toFixed(l);return r||!a?a.toString():new Intl.NumberFormat("en-UK",{minimumFractionDigits:l||0}).format(a)}function En(t){for(let e in t){let r=document.createElement("datalist");r.id=e;for(let n of t[e]){let l=document.createElement("option");l.value=n,r.appendChild(l)}document.body.appendChild(r)}}function ee(t){!t.list?.querySelector(`[value="${t.value}"]`)&&t.value?N(t,'Not a valid option. If you believe this is an error, submit a <a href="https://forms.gle/LRhzWjMRkXoKd9CcA" rel="noreferrer noopener" target="_blank">bug report</a>.'):N(t)}function ht(t=null,e=!1){if(W.debug)return"";let r=K(JSON.stringify(E)),n=C.text,{name:l,portalglyphs:a}=E;return l&&a&&(r===n&&C.link===t?.dataset?.link&&C.copy||e)?(C.copy=!1,C.link="",""):l?a?"Copy Code First!":"Enter Glyphs!":"Missing Name!"}function yt(t){return t?t.replace(/\r?\n|\r/g,""):""}function wn(t){let e=document.getElementById("switchTheme")?.innerText,r=t.closest(".wikiText"),n=yt(r?.innerText).trim(),l=(()=>{let a=yt(window.getSelection().toString()).trim();return a.endsWith(e)?a.replace(e,"").trim():a})();C.text=K(JSON.stringify(E)),C.copy=n===l,C.link=r?.dataset?.link}function ne(){document.body.dataset.mark=W.debug?"true":(!ht(null,!0)).toString()}function An(){let t=ht(null,!0);t&&(lt("Missing/Incorrect Data",t),ne())}function bt(t,e=t.dataset.default){t.value.trim()||$(e,t.dataset.dest??t.dataset.destNoauto)}function re(t){for(let e of t)e.remove()}function kn(t,e="section"){let r=document.querySelectorAll(`[data-${e}="${t}"]`);re(Array.from(r))}function In(){let t=E.oldName,e=A.output.oldName.parentElement;e&&(e.style.display=t?"":"none")}function oe(t,e){let r=[0];for(let a of t){let s=nt(l(a,e));r.push(s)}function n(a,s){return a-s}return r.sort(n),r[r.length-1]+1;function l(a,s){if(a===void 0)return!1;let u=s.indexOf(".");return u>-1?l(a[s.substring(0,u)],s.substring(u+1)):a[s]}}function ae(t,e=!1){let r={};if(!e)return Object.keys(t).sort().reduce((a,s)=>(a[s]=t[s],a),r);let n=Object.keys(ae(t)),l=n.map(a=>nt(a)).map(Number).sort((a,s)=>a-s);for(let a of l){let s=n.findIndex(f=>nt(f)===a),u=n[s];n.splice(s,1),r[u]=t[u]}return r}function nt(t){let e=t?.match(/[0-9]/g)?.join("");return e?parseInt(e):""}function jn(t){return t%2==0?"even":"odd"}function Tn(t,e={},r=[]){let n=t;for(let a in e)n=n.replaceAll("${"+a+"}",e[a]);if(!r.length)return n;let l=new DOMParser().parseFromString(n,"text/html");for(let a of r){let s=l.querySelectorAll(`[data-evt-id="${a.element}"]`);for(let u of Array.from(s))z({element:u,handler:a.handler??void 0,func:a.func})}return l}function vt(t,e){let r=new Event(e);t.dispatchEvent(r)}function le(){return window.location.pathname.split("/").at(-1).slice(0,-5)}function Ln(t,e,r="afterbegin"){let n=Array.from(t.body.children);(r==="afterbegin"||r==="afterend")&&n.reverse();for(let l of n)e.insertAdjacentElement(r,l)}function On(){return"Rare Fauna Album#Sandworm|Rare Fauna"}function $n(t){t.maxLength=t.value.startsWith("-")?4:3}function Cn(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function Mn(){Kt().$reset()}function Nn(){let t=zt();return K(Object.entries(t).join())}function Rn(t,e=void 0,r=!1){return te(t,e,r)||!t||["+","-"].includes(t)?"":"Must only contain numbers"}function Bn(t,e){return!e.includes(t)&&t?'Not a valid option. If you believe this is an error, submit a <a href="https://forms.gle/LRhzWjMRkXoKd9CcA" rel="noreferrer noopener" target="_blank">bug report</a>.':""}var ie="0123456789ABCDEF";function _n(t,e){if(!t)return;let r=[];for(let l of ie){let a=n(l);r.push(a)}t.innerHTML="";for(let l of r)t.appendChild(l);function n(l){let a=document.createElement("button"),s=document.createElement("span");return a.type="button",a.dataset.inputBind=e,a.classList.add("button"),a.value=l,a.addEventListener("click",function(){Hn(this)}),s.classList.add("glyph","icon","is-small"),s.innerText=l,a.appendChild(s),a}}function Hn(t){let e=t?.dataset?.inputBind??"",r=A.input[e]??document.getElementById(e)??t?.closest(".tableHeader")?.previousElementSibling?.querySelector("input");r.value.length<12&&(r.value+=t.value),vt(r,"input")}function qn(){let t=A.input.portalglyphsInput,e=t.value;E.portalglyphs=e;let r=t.dataset.destNoauto;$(e,r),P("galacticCoords").length&&$(ue(e),"galacticCoords")}function Un(t=void 0){let e=t?.dataset?.inputBind??"",r=e?A.input[e]??document.getElementById(e):t?t.closest(".table-cell")?.nextElementSibling?.querySelector("input"):A.input.portalglyphsInput,n=r.value?.split("");n.pop(),r.value=n.join(""),vt(r,"input")}function se(t){let e=t?.value?.toUpperCase?.();e!=null&&(t.value=Fn(e))}function Fn(t){return t.split("").filter(e=>ie.includes(e)).join("").substring(0,12)}function ue(t){if(t.length!=12)return"";let e=2049,r=2047,n=parseInt(t.substring(9,12),16),l=parseInt(t.substring(4,6),16),a=parseInt(t.substring(6,9),16),s=t.substring(1,4),u=0,f=0,h=0;u=n>=e?n-e:n+r,h=a>=e?a-e:a+r,f=l>=129?l-129:l+127;let y=[],v=[u,f,h];for(let w=0;w<3;w++)y[w]=v[w].toString(16).toUpperCase().padStart(4,"0");return y[3]=s.padStart(4,"0"),y.join(":")}export{ae as $,On as A,Se as At,et as B,ee as C,Ie as Ct,le as D,Ee as Dt,oe as E,C as Et,Jt as F,yt as G,mn as H,$n as I,yn as J,re as K,Tn as L,tt as M,E as Mt,gt as N,W as Nt,un as O,A as Ot,In as P,kt as Pt,dn as Q,Qt as R,nt as S,ke as St,Vt as T,D as Tt,An as U,jn as V,Zt as W,T as X,Mn as Y,cn as Z,Sn as _,Re as _t,ue as a,mt as at,N as b,Ne as bt,gn as c,Kt as ct,Cn as d,Ve as dt,pt as et,ht as f,Rt as ft,bn as g,Be as gt,Gt as h,_e as ht,se as i,$ as it,Nn as j,we as jt,wn as k,ot as kt,bt as l,Pe as lt,En as m,Nt as mt,Un as n,vt as nt,Ln as o,zt as ot,dt as p,Mt as pt,kn as q,qn as r,vn as rt,Yt as s,Ze as st,_n as t,hn as tt,fn as u,Q as ut,xn as v,jt as vt,Bn as w,Ae as wt,pn as x,K as xt,ne as y,z as yt,Rn as z};
