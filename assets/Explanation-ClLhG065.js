import{C as e,D as t,T as n,V as r,b as i,f as a,h as o,j as s,k as c,l,m as u,mt as d,p as f,u as p}from"./vue.runtime.esm-bundler-D4-5mUL3.js";var m=["aria-disabled"],h={class:"tooltiptext nms-font"},g={id:"explanationHeading",class:"explanationHeading title is-4"},_={id:"explanationContent",class:"explanationContent nms-font"},v=["href"],y=["srcset"],b=["src"],x=i({__name:"Explanation",props:{img:{},open:{type:Boolean}},emits:["update:open"],setup(i,{emit:x}){let k=i,$=c("dialog-element"),j=k.img?.trim()??"",C=r("0 -100vh"),I=r(""),L=r(0),w=r(0),E=r(!1),H=r(!1),D=x;function F(){C.value="0 -100vh",I.value||=j,E.value||=!0,D("update:open",!0),e(()=>{$.value&&($.value.showModal(),C.value="0 0",$.value.scrollTo(0,0))})}function T(){w.value=1,L.value=1}return s(()=>{k.open&&F()}),(e,s)=>(n(),o(l,null,[a("button",{"aria-disabled":!e.$slots.content||void 0,class:"tooltip",onClick:s[0]||=a=>e.$slots.content&&F()},[s[4]||=a("img",{src:"/assets/icons/help.svg",alt:"Help"},null,-1),a("p",h,[t(e.$slots,"default")])],8,m),(n(),f(p,{to:"body"},[E.value?(n(),o("dialog",{key:0,style:d({translate:C.value}),class:"explanation modal-content content",ref:"dialog-element",onClose:s[3]||=a=>e.$emit("update:open",!1)},[a("h2",g,[t(e.$slots,"heading")]),a("div",_,[t(e.$slots,"content")]),I.value&&!H.value?(n(),o("a",{key:0,href:`./assets/images/jpg/${I.value}.jpg`,class:"explanationLink loading",id:"explanationLink",rel:"noopener noreferrer",target:"_blank"},[a("picture",null,[a("source",{srcset:`./assets/images/webp/${I.value}.webp`,class:"explanationWebpImg",id:"explanationWebpImg",type:"image/webp"},null,8,y),a("img",{src:`./assets/images/jpg/${I.value}.jpg`,style:d({opacity:L.value,"margin-block-start":w.value+"rem"}),alt:"Explainer Image",class:"explanationFallbackImg",id:"explanationFallbackImg",onLoadstart:s[1]||=a=>H.value=!1,onLoad:T,onError:s[2]||=a=>H.value=!0},null,44,b)])],8,v)):u("",!0),s[5]||=a("form",{method:"dialog"},[a("button",{class:"button",type:"submit",autofocus:""}," Close ")],-1)],36)):u("",!0)]))],64))}});export{x as t};
