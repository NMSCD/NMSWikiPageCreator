"use strict";import{v as an,d as wt,a as ln,w as Ce,c as sn}from"./runtime-dom.esm-bundler-D-OVIont.js";import{w as re,dj as ae,ad as Wt,x as U,D as H,af as xe,bN as N,A as x,bO as y,de as at,bS as Ot,cW as ft,bl as lt,cI as _t,T as Me,y as Gt,ac as cn,bM as vt,z as It,dc as le,co as Oe,b7 as un,B as st,bD as Ie,ak as dn}from"./links-DlE74E-n.js";import{_ as hn}from"./Explanation.vue_vue_type_script_setup_true_lang-CVklTx1D.js";import{_ as Ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";/**!
* Sortable 1.15.6
* @author	RubaXa   <trash@rubaxa.org>
* @author	owenm    <owen23355@gmail.com>
* @license MIT
*/function ke(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,o)}return e}function J(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ke(Object(e),!0).forEach(function(o){pn(t,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ke(Object(e)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))})}return t}function zt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zt=function(n){return typeof n}:zt=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zt(t)}function pn(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function tt(){return tt=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},tt.apply(this,arguments)}function fn(t,n){if(t==null)return{};var e={},o=Object.keys(t),i,r;for(r=0;r<o.length;r++)i=o[r],!(n.indexOf(i)>=0)&&(e[i]=t[i]);return e}function vn(t,n){if(t==null)return{};var e=fn(t,n),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)o=r[i],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(e[o]=t[o])}return e}var gn="1.15.6";function et(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var nt=et(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),At=et(/Edge/i),Pe=et(/firefox/i),kt=et(/safari/i)&&!et(/chrome/i)&&!et(/android/i),se=et(/iP(ad|od|hone)/i),Ne=et(/chrome/i)&&et(/android/i),Re={capture:!1,passive:!1};function D(t,n,e){t.addEventListener(n,e,!nt&&Re)}function _(t,n,e){t.removeEventListener(n,e,!nt&&Re)}function Ut(t,n){if(n){if(n[0]===">"&&(n=n.substring(1)),t)try{if(t.matches)return t.matches(n);if(t.msMatchesSelector)return t.msMatchesSelector(n);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(n)}catch{return!1}return!1}}function Xe(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Z(t,n,e,o){if(t){e=e||document;do{if(n!=null&&(n[0]===">"?t.parentNode===e&&Ut(t,n):Ut(t,n))||o&&t===e)return t;if(t===e)break}while(t=Xe(t))}return null}var Le=/\s+/g;function G(t,n,e){if(t&&n)if(t.classList)t.classList[e?"add":"remove"](n);else{var o=(" "+t.className+" ").replace(Le," ").replace(" "+n+" "," ");t.className=(o+(e?" "+n:"")).replace(Le," ")}}function v(t,n,e){var o=t&&t.style;if(o){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(e=t.currentStyle),n===void 0?e:e[n];!(n in o)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),o[n]=e+(typeof e=="string"?"":"px")}}function Dt(t,n){var e="";if(typeof t=="string")e=t;else do{var o=v(t,"transform");o&&o!=="none"&&(e=o+" "+e)}while(!n&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(e)}function Ye(t,n,e){if(t){var o=t.getElementsByTagName(n),i=0,r=o.length;if(e)for(;i<r;i++)e(o[i],i);return o}return[]}function K(){var t=document.scrollingElement;return t||document.documentElement}function A(t,n,e,o,i){if(!(!t.getBoundingClientRect&&t!==window)){var r,a,u,l,s,c,d;if(t!==window&&t.parentNode&&t!==K()?(r=t.getBoundingClientRect(),a=r.top,u=r.left,l=r.bottom,s=r.right,c=r.height,d=r.width):(a=0,u=0,l=window.innerHeight,s=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(n||e)&&t!==window&&(i=i||t.parentNode,!nt))do if(i&&i.getBoundingClientRect&&(v(i,"transform")!=="none"||e&&v(i,"position")!=="static")){var f=i.getBoundingClientRect();a-=f.top+parseInt(v(i,"border-top-width")),u-=f.left+parseInt(v(i,"border-left-width")),l=a+r.height,s=u+r.width;break}while(i=i.parentNode);if(o&&t!==window){var p=Dt(i||t),E=p&&p.a,m=p&&p.d;p&&(a/=m,u/=E,d/=E,c/=m,l=a+c,s=u+d)}return{top:a,left:u,bottom:l,right:s,width:d,height:c}}}function Fe(t,n,e){for(var o=ct(t,!0),i=A(t)[n];o;){var r=A(o)[e],a=void 0;if(a=i>=r,!a)return o;if(o===K())break;o=ct(o,!1)}return!1}function Et(t,n,e,o){for(var i=0,r=0,a=t.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==g.ghost&&(o||a[r]!==g.dragged)&&Z(a[r],e.draggable,t,!1)){if(i===n)return a[r];i++}r++}return null}function ce(t,n){for(var e=t.lastElementChild;e&&(e===g.ghost||v(e,"display")==="none"||n&&!Ut(e,n));)e=e.previousElementSibling;return e||null}function V(t,n){var e=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==g.clone&&(!n||Ut(t,n))&&e++;return e}function Be(t){var n=0,e=0,o=K();if(t)do{var i=Dt(t),r=i.a,a=i.d;n+=t.scrollLeft*r,e+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[n,e]}function mn(t,n){for(var e in t)if(t.hasOwnProperty(e)){for(var o in n)if(n.hasOwnProperty(o)&&n[o]===t[e][o])return Number(e)}return-1}function ct(t,n){if(!t||!t.getBoundingClientRect)return K();var e=t,o=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var i=v(e);if(e.clientWidth<e.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return K();if(o||n)return e;o=!0}}while(e=e.parentNode);return K()}function bn(t,n){if(t&&n)for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function ue(t,n){return Math.round(t.top)===Math.round(n.top)&&Math.round(t.left)===Math.round(n.left)&&Math.round(t.height)===Math.round(n.height)&&Math.round(t.width)===Math.round(n.width)}var Pt;function je(t,n){return function(){if(!Pt){var e=arguments,o=this;e.length===1?t.call(o,e[0]):t.apply(o,e),Pt=setTimeout(function(){Pt=void 0},n)}}}function yn(){clearTimeout(Pt),Pt=void 0}function We(t,n,e){t.scrollLeft+=n,t.scrollTop+=e}function Ge(t){var n=window.Polymer,e=window.jQuery||window.Zepto;return n&&n.dom?n.dom(t).cloneNode(!0):e?e(t).clone(!0)[0]:t.cloneNode(!0)}function ze(t,n,e){var o={};return Array.from(t.children).forEach(function(i){var r,a,u,l;if(!(!Z(i,n.draggable,t,!1)||i.animated||i===e)){var s=A(i);o.left=Math.min((r=o.left)!==null&&r!==void 0?r:1/0,s.left),o.top=Math.min((a=o.top)!==null&&a!==void 0?a:1/0,s.top),o.right=Math.max((u=o.right)!==null&&u!==void 0?u:-1/0,s.right),o.bottom=Math.max((l=o.bottom)!==null&&l!==void 0?l:-1/0,s.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var F="Sortable"+new Date().getTime();function wn(){var t=[],n;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var e=[].slice.call(this.el.children);e.forEach(function(o){if(!(v(o,"display")==="none"||o===g.ghost)){t.push({target:o,rect:A(o)});var i=J({},t[t.length-1].rect);if(o.thisAnimationDuration){var r=Dt(o,!0);r&&(i.top-=r.f,i.left-=r.e)}o.fromRect=i}})}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(mn(t,{target:e}),1)},animateAll:function(e){var o=this;if(!this.options.animation){clearTimeout(n),typeof e=="function"&&e();return}var i=!1,r=0;t.forEach(function(a){var u=0,l=a.target,s=l.fromRect,c=A(l),d=l.prevFromRect,f=l.prevToRect,p=a.rect,E=Dt(l,!0);E&&(c.top-=E.f,c.left-=E.e),l.toRect=c,l.thisAnimationDuration&&ue(d,c)&&!ue(s,c)&&(p.top-c.top)/(p.left-c.left)===(s.top-c.top)/(s.left-c.left)&&(u=Dn(p,d,f,o.options)),ue(c,s)||(l.prevFromRect=s,l.prevToRect=c,u||(u=o.options.animation),o.animate(l,p,c,u)),u&&(i=!0,r=Math.max(r,u),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},u),l.thisAnimationDuration=u)}),clearTimeout(n),i?n=setTimeout(function(){typeof e=="function"&&e()},r):typeof e=="function"&&e(),t=[]},animate:function(e,o,i,r){if(r){v(e,"transition",""),v(e,"transform","");var a=Dt(this.el),u=a&&a.a,l=a&&a.d,s=(o.left-i.left)/(u||1),c=(o.top-i.top)/(l||1);e.animatingX=!!s,e.animatingY=!!c,v(e,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=_n(e),v(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),v(e,"transform","translate3d(0,0,0)"),typeof e.animated=="number"&&clearTimeout(e.animated),e.animated=setTimeout(function(){v(e,"transition",""),v(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r)}}}}function _n(t){return t.offsetWidth}function Dn(t,n,e,o){return Math.sqrt(Math.pow(n.top-t.top,2)+Math.pow(n.left-t.left,2))/Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))*o.animation}var St=[],de={initializeByDefault:!0},Nt={mount:function(t){for(var n in de)de.hasOwnProperty(n)&&!(n in t)&&(t[n]=de[n]);St.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),St.push(t)},pluginEvent:function(t,n,e){var o=this;this.eventCanceled=!1,e.cancel=function(){o.eventCanceled=!0};var i=t+"Global";St.forEach(function(r){n[r.pluginName]&&(n[r.pluginName][i]&&n[r.pluginName][i](J({sortable:n},e)),n.options[r.pluginName]&&n[r.pluginName][t]&&n[r.pluginName][t](J({sortable:n},e)))})},initializePlugins:function(t,n,e,o){St.forEach(function(a){var u=a.pluginName;if(!(!t.options[u]&&!a.initializeByDefault)){var l=new a(t,n,t.options);l.sortable=t,l.options=t.options,t[u]=l,tt(e,l.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var r=this.modifyOption(t,i,t.options[i]);typeof r<"u"&&(t.options[i]=r)}},getEventProperties:function(t,n){var e={};return St.forEach(function(o){typeof o.eventProperties=="function"&&tt(e,o.eventProperties.call(n[o.pluginName],t))}),e},modifyOption:function(t,n,e){var o;return St.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(t[i.pluginName],e))}),o}};function En(t){var n=t.sortable,e=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,u=t.fromEl,l=t.oldIndex,s=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,E=t.extraEventProperties;if(n=n||e&&e[F],!!n){var m,C=n.options,P="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!nt&&!At?m=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(o,!0,!0)),m.to=a||e,m.from=u||e,m.item=i||e,m.clone=r,m.oldIndex=l,m.newIndex=s,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=p?p.lastPutMode:void 0;var j=J(J({},E),Nt.getEventProperties(o,n));for(var S in j)m[S]=j[S];e&&e.dispatchEvent(m),C[P]&&C[P].call(n,m)}}var Sn=["evt"],B=function(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=e.evt,i=vn(e,Sn);Nt.pluginEvent.bind(g)(t,n,J({dragEl:h,parentEl:I,ghostEl:b,rootEl:M,nextEl:gt,lastDownEl:Ht,cloneEl:O,cloneHidden:ut,dragStarted:Xt,putSortable:R,activeSortable:g.active,originalEvent:o,oldIndex:Tt,oldDraggableIndex:Rt,newIndex:z,newDraggableIndex:dt,hideGhostForTarget:Je,unhideGhostForTarget:Ke,cloneNowHidden:function(){ut=!0},cloneNowShown:function(){ut=!1},dispatchSortableEvent:function(r){Y({sortable:n,name:r,originalEvent:o})}},i))};function Y(t){En(J({putSortable:R,cloneEl:O,targetEl:h,rootEl:M,oldIndex:Tt,oldDraggableIndex:Rt,newIndex:z,newDraggableIndex:dt},t))}var h,I,b,M,gt,Ht,O,ut,Tt,z,Rt,dt,Vt,R,Ct=!1,Zt=!1,qt=[],mt,q,he,pe,Ue,He,Xt,xt,Lt,Yt=!1,Qt=!1,Jt,X,fe=[],ve=!1,Kt=[],$t=typeof document<"u",te=se,Ve=At||nt?"cssFloat":"float",Tn=$t&&!Ne&&!se&&"draggable"in document.createElement("div"),Ze=function(){if($t){if(nt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),qe=function(t,n){var e=v(t),o=parseInt(e.width)-parseInt(e.paddingLeft)-parseInt(e.paddingRight)-parseInt(e.borderLeftWidth)-parseInt(e.borderRightWidth),i=Et(t,0,n),r=Et(t,1,n),a=i&&v(i),u=r&&v(r),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+A(i).width,s=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+A(r).width;if(e.display==="flex")return e.flexDirection==="column"||e.flexDirection==="column-reverse"?"vertical":"horizontal";if(e.display==="grid")return e.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var c=a.float==="left"?"left":"right";return r&&(u.clear==="both"||u.clear===c)?"vertical":"horizontal"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||l>=o&&e[Ve]==="none"||r&&e[Ve]==="none"&&l+s>o)?"vertical":"horizontal"},Cn=function(t,n,e){var o=e?t.left:t.top,i=e?t.right:t.bottom,r=e?t.width:t.height,a=e?n.left:n.top,u=e?n.right:n.bottom,l=e?n.width:n.height;return o===a||i===u||o+r/2===a+l/2},xn=function(t,n){var e;return qt.some(function(o){var i=o[F].options.emptyInsertThreshold;if(!(!i||ce(o))){var r=A(o),a=t>=r.left-i&&t<=r.right+i,u=n>=r.top-i&&n<=r.bottom+i;if(a&&u)return e=o}}),e},Qe=function(t){function n(i,r){return function(a,u,l,s){var c=a.options.group.name&&u.options.group.name&&a.options.group.name===u.options.group.name;if(i==null&&(r||c))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return n(i(a,u,l,s),r)(a,u,l,s);var d=(r?a:u).options.group.name;return i===!0||typeof i=="string"&&i===d||i.join&&i.indexOf(d)>-1}}var e={},o=t.group;(!o||zt(o)!="object")&&(o={name:o}),e.name=o.name,e.checkPull=n(o.pull,!0),e.checkPut=n(o.put),e.revertClone=o.revertClone,t.group=e},Je=function(){!Ze&&b&&v(b,"display","none")},Ke=function(){!Ze&&b&&v(b,"display","")};$t&&!Ne&&document.addEventListener("click",function(t){if(Zt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Zt=!1,!1},!0);var bt=function(t){if(h){t=t.touches?t.touches[0]:t;var n=xn(t.clientX,t.clientY);if(n){var e={};for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.target=e.rootEl=n,e.preventDefault=void 0,e.stopPropagation=void 0,n[F]._onDragOver(e)}}},Mn=function(t){h&&h.parentNode[F]._isOutsideThisEl(t.target)};function g(t,n){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=n=tt({},n),t[F]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qe(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,a){r.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:g.supportPointer!==!1&&"PointerEvent"in window&&(!kt||se),emptyInsertThreshold:5};Nt.initializePlugins(this,t,e);for(var o in e)!(o in n)&&(n[o]=e[o]);Qe(n);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=n.forceFallback?!1:Tn,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?D(t,"pointerdown",this._onTapStart):(D(t,"mousedown",this._onTapStart),D(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(D(t,"dragover",this),D(t,"dragenter",this)),qt.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),tt(this,wn())}g.prototype={constructor:g,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(xt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,h):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,e=this.el,o=this.options,i=o.preventOnFilter,r=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,s=o.filter;if(Xn(e),!h&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||o.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&kt&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Z(u,o.draggable,e,!1),!(u&&u.animated)&&Ht!==u)){if(Tt=V(u),Rt=V(u,o.draggable),typeof s=="function"){if(s.call(this,t,u,this)){Y({sortable:n,rootEl:l,name:"filter",targetEl:u,toEl:e,fromEl:e}),B("filter",n,{evt:t}),i&&t.preventDefault();return}}else if(s&&(s=s.split(",").some(function(c){if(c=Z(l,c.trim(),e,!1),c)return Y({sortable:n,rootEl:c,name:"filter",targetEl:u,fromEl:e,toEl:e}),B("filter",n,{evt:t}),!0}),s)){i&&t.preventDefault();return}o.handle&&!Z(l,o.handle,e,!1)||this._prepareDragStart(t,a,u)}}},_prepareDragStart:function(t,n,e){var o=this,i=o.el,r=o.options,a=i.ownerDocument,u;if(e&&!h&&e.parentNode===i){var l=A(e);if(M=i,h=e,I=h.parentNode,gt=h.nextSibling,Ht=e,Vt=r.group,g.dragged=h,mt={target:h,clientX:(n||t).clientX,clientY:(n||t).clientY},Ue=mt.clientX-l.left,He=mt.clientY-l.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,h.style["will-change"]="all",u=function(){if(B("delayEnded",o,{evt:t}),g.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Pe&&o.nativeDraggable&&(h.draggable=!0),o._triggerDragStart(t,n),Y({sortable:o,name:"choose",originalEvent:t}),G(h,r.chosenClass,!0)},r.ignore.split(",").forEach(function(s){Ye(h,s.trim(),ge)}),D(a,"dragover",bt),D(a,"mousemove",bt),D(a,"touchmove",bt),r.supportPointer?(D(a,"pointerup",o._onDrop),!this.nativeDraggable&&D(a,"pointercancel",o._onDrop)):(D(a,"mouseup",o._onDrop),D(a,"touchend",o._onDrop),D(a,"touchcancel",o._onDrop)),Pe&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),B("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(At||nt))){if(g.eventCanceled){this._onDrop();return}r.supportPointer?(D(a,"pointerup",o._disableDelayedDrag),D(a,"pointercancel",o._disableDelayedDrag)):(D(a,"mouseup",o._disableDelayedDrag),D(a,"touchend",o._disableDelayedDrag),D(a,"touchcancel",o._disableDelayedDrag)),D(a,"mousemove",o._delayedDragTouchMoveHandler),D(a,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&D(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(u,r.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&ge(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;_(t,"mouseup",this._disableDelayedDrag),_(t,"touchend",this._disableDelayedDrag),_(t,"touchcancel",this._disableDelayedDrag),_(t,"pointerup",this._disableDelayedDrag),_(t,"pointercancel",this._disableDelayedDrag),_(t,"mousemove",this._delayedDragTouchMoveHandler),_(t,"touchmove",this._delayedDragTouchMoveHandler),_(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?D(document,"pointermove",this._onTouchMove):n?D(document,"touchmove",this._onTouchMove):D(document,"mousemove",this._onTouchMove):(D(h,"dragend",this),D(M,"dragstart",this._onDragStart));try{document.selection?ne(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Ct=!1,M&&h){B("dragStarted",this,{evt:n}),this.nativeDraggable&&D(document,"dragover",Mn);var e=this.options;!t&&G(h,e.dragClass,!1),G(h,e.ghostClass,!0),g.active=this,t&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(q){this._lastX=q.clientX,this._lastY=q.clientY,Je();for(var t=document.elementFromPoint(q.clientX,q.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(q.clientX,q.clientY),t!==n);)n=t;if(h.parentNode[F]._isOutsideThisEl(t),n)do{if(n[F]){var e=void 0;if(e=n[F]._onDragOver({clientX:q.clientX,clientY:q.clientY,target:t,rootEl:n}),e&&!this.options.dragoverBubble)break}t=n}while(n=Xe(n));Ke()}},_onTouchMove:function(t){if(mt){var n=this.options,e=n.fallbackTolerance,o=n.fallbackOffset,i=t.touches?t.touches[0]:t,r=b&&Dt(b,!0),a=b&&r&&r.a,u=b&&r&&r.d,l=te&&X&&Be(X),s=(i.clientX-mt.clientX+o.x)/(a||1)+(l?l[0]-fe[0]:0)/(a||1),c=(i.clientY-mt.clientY+o.y)/(u||1)+(l?l[1]-fe[1]:0)/(u||1);if(!g.active&&!Ct){if(e&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<e)return;this._onDragStart(t,!0)}if(b){r?(r.e+=s-(he||0),r.f+=c-(pe||0)):r={a:1,b:0,c:0,d:1,e:s,f:c};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");v(b,"webkitTransform",d),v(b,"mozTransform",d),v(b,"msTransform",d),v(b,"transform",d),he=s,pe=c,q=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!b){var t=this.options.fallbackOnBody?document.body:M,n=A(h,!0,te,!0,t),e=this.options;if(te){for(X=t;v(X,"position")==="static"&&v(X,"transform")==="none"&&X!==document;)X=X.parentNode;X!==document.body&&X!==document.documentElement?(X===document&&(X=K()),n.top+=X.scrollTop,n.left+=X.scrollLeft):X=K(),fe=Be(X)}b=h.cloneNode(!0),G(b,e.ghostClass,!1),G(b,e.fallbackClass,!0),G(b,e.dragClass,!0),v(b,"transition",""),v(b,"transform",""),v(b,"box-sizing","border-box"),v(b,"margin",0),v(b,"top",n.top),v(b,"left",n.left),v(b,"width",n.width),v(b,"height",n.height),v(b,"opacity","0.8"),v(b,"position",te?"absolute":"fixed"),v(b,"zIndex","100000"),v(b,"pointerEvents","none"),g.ghost=b,t.appendChild(b),v(b,"transform-origin",Ue/parseInt(b.style.width)*100+"% "+He/parseInt(b.style.height)*100+"%")}},_onDragStart:function(t,n){var e=this,o=t.dataTransfer,i=e.options;if(B("dragStart",this,{evt:t}),g.eventCanceled){this._onDrop();return}B("setupClone",this),g.eventCanceled||(O=Ge(h),O.removeAttribute("id"),O.draggable=!1,O.style["will-change"]="",this._hideClone(),G(O,this.options.chosenClass,!1),g.clone=O),e.cloneId=ne(function(){B("clone",e),!g.eventCanceled&&(e.options.removeCloneOnHide||M.insertBefore(O,h),e._hideClone(),Y({sortable:e,name:"clone"}))}),!n&&G(h,i.dragClass,!0),n?(Zt=!0,e._loopId=setInterval(e._emulateDragOver,50)):(_(document,"mouseup",e._onDrop),_(document,"touchend",e._onDrop),_(document,"touchcancel",e._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(e,o,h)),D(document,"drop",e),v(h,"transform","translateZ(0)")),Ct=!0,e._dragStartId=ne(e._dragStarted.bind(e,n,t)),D(document,"selectstart",e),Xt=!0,window.getSelection().removeAllRanges(),kt&&v(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,e=t.target,o,i,r,a=this.options,u=a.group,l=g.active,s=Vt===u,c=a.sort,d=R||l,f,p=this,E=!1;if(ve)return;function m(Mt,on){B(Mt,p,J({evt:t,isOwner:s,axis:f?"vertical":"horizontal",revert:r,dragRect:o,targetRect:i,canSort:c,fromSortable:d,target:e,completed:P,onMove:function(Te,rn){return ee(M,n,h,o,Te,A(Te),t,rn)},changed:j},on))}function C(){m("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function P(Mt){return m("dragOverCompleted",{insertion:Mt}),Mt&&(s?l._hideClone():l._showClone(p),p!==d&&(G(h,R?R.options.ghostClass:l.options.ghostClass,!1),G(h,a.ghostClass,!0)),R!==p&&p!==g.active?R=p:p===g.active&&R&&(R=null),d===p&&(p._ignoreWhileAnimating=e),p.animateAll(function(){m("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(e===h&&!h.animated||e===n&&!e.animated)&&(xt=null),!a.dragoverBubble&&!t.rootEl&&e!==document&&(h.parentNode[F]._isOutsideThisEl(t.target),!Mt&&bt(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),E=!0}function j(){z=V(h),dt=V(h,a.draggable),Y({sortable:p,name:"change",toEl:n,newIndex:z,newDraggableIndex:dt,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),e=Z(e,a.draggable,n,!0),m("dragOver"),g.eventCanceled)return E;if(h.contains(t.target)||e.animated&&e.animatingX&&e.animatingY||p._ignoreWhileAnimating===e)return P(!1);if(Zt=!1,l&&!a.disabled&&(s?c||(r=I!==M):R===this||(this.lastPutMode=Vt.checkPull(this,l,h,t))&&u.checkPut(this,l,h,t))){if(f=this._getDirection(t,e)==="vertical",o=A(h),m("dragOverValid"),g.eventCanceled)return E;if(r)return I=M,C(),this._hideClone(),m("revert"),g.eventCanceled||(gt?M.insertBefore(h,gt):M.appendChild(h)),P(!0);var S=ce(n,a.draggable);if(!S||kn(t,f,this)&&!S.animated){if(S===h)return P(!1);if(S&&n===t.target&&(e=S),e&&(i=A(e)),ee(M,n,h,o,e,i,t,!!e)!==!1)return C(),S&&S.nextSibling?n.insertBefore(h,S.nextSibling):n.appendChild(h),I=n,j(),P(!0)}else if(S&&An(t,f,this)){var w=Et(n,0,a,!0);if(w===h)return P(!1);if(e=w,i=A(e),ee(M,n,h,o,e,i,t,!1)!==!1)return C(),n.insertBefore(h,w),I=n,j(),P(!0)}else if(e.parentNode===n){i=A(e);var T=0,Q,ot=h.parentNode!==n,L=!Cn(h.animated&&h.toRect||o,e.animated&&e.toRect||i,f),W=f?"top":"left",it=Fe(e,"top","top")||Fe(h,"top","top"),jt=it?it.scrollTop:void 0;xt!==e&&(Q=i[W],Yt=!1,Qt=!L&&a.invertSwap||ot),T=Pn(t,e,i,f,L?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Qt,xt===e);var $;if(T!==0){var yt=V(h);do yt-=T,$=I.children[yt];while($&&(v($,"display")==="none"||$===b))}if(T===0||$===e)return P(!1);xt=e,Lt=T;var ht=e.nextElementSibling,rt=!1;rt=T===1;var pt=ee(M,n,h,o,e,i,t,rt);if(pt!==!1)return(pt===1||pt===-1)&&(rt=pt===1),ve=!0,setTimeout(In,30),C(),rt&&!ht?n.appendChild(h):e.parentNode.insertBefore(h,rt?ht:e),it&&We(it,0,jt-it.scrollTop),I=h.parentNode,Q!==void 0&&!Qt&&(Jt=Math.abs(Q-A(e)[W])),j(),P(!0)}if(n.contains(h))return P(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",bt),_(document,"mousemove",bt),_(document,"touchmove",bt)},_offUpEvents:function(){var t=this.el.ownerDocument;_(t,"mouseup",this._onDrop),_(t,"touchend",this._onDrop),_(t,"pointerup",this._onDrop),_(t,"pointercancel",this._onDrop),_(t,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(t){var n=this.el,e=this.options;if(z=V(h),dt=V(h,e.draggable),B("drop",this,{evt:t}),I=h&&h.parentNode,z=V(h),dt=V(h,e.draggable),g.eventCanceled){this._nulling();return}Ct=!1,Qt=!1,Yt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),me(this.cloneId),me(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),kt&&v(document.body,"user-select",""),v(h,"transform",""),t&&(Xt&&(t.cancelable&&t.preventDefault(),!e.dropBubble&&t.stopPropagation()),b&&b.parentNode&&b.parentNode.removeChild(b),(M===I||R&&R.lastPutMode!=="clone")&&O&&O.parentNode&&O.parentNode.removeChild(O),h&&(this.nativeDraggable&&_(h,"dragend",this),ge(h),h.style["will-change"]="",Xt&&!Ct&&G(h,R?R.options.ghostClass:this.options.ghostClass,!1),G(h,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:I,newIndex:null,newDraggableIndex:null,originalEvent:t}),M!==I?(z>=0&&(Y({rootEl:I,name:"add",toEl:I,fromEl:M,originalEvent:t}),Y({sortable:this,name:"remove",toEl:I,originalEvent:t}),Y({rootEl:I,name:"sort",toEl:I,fromEl:M,originalEvent:t}),Y({sortable:this,name:"sort",toEl:I,originalEvent:t})),R&&R.save()):z!==Tt&&z>=0&&(Y({sortable:this,name:"update",toEl:I,originalEvent:t}),Y({sortable:this,name:"sort",toEl:I,originalEvent:t})),g.active&&((z==null||z===-1)&&(z=Tt,dt=Rt),Y({sortable:this,name:"end",toEl:I,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){B("nulling",this),M=h=I=b=gt=O=Ht=ut=mt=q=Xt=z=dt=Tt=Rt=xt=Lt=R=Vt=g.dragged=g.ghost=g.clone=g.active=null,Kt.forEach(function(t){t.checked=!0}),Kt.length=he=pe=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":h&&(this._onDragOver(t),On(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,e=this.el.children,o=0,i=e.length,r=this.options;o<i;o++)n=e[o],Z(n,r.draggable,this.el,!1)&&t.push(n.getAttribute(r.dataIdAttr)||Rn(n));return t},sort:function(t,n){var e={},o=this.el;this.toArray().forEach(function(i,r){var a=o.children[r];Z(a,this.options.draggable,o,!1)&&(e[i]=a)},this),n&&this.captureAnimationState(),t.forEach(function(i){e[i]&&(o.removeChild(e[i]),o.appendChild(e[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Z(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var e=this.options;if(n===void 0)return e[t];var o=Nt.modifyOption(this,t,n);typeof o<"u"?e[t]=o:e[t]=n,t==="group"&&Qe(e)},destroy:function(){B("destroy",this);var t=this.el;t[F]=null,_(t,"mousedown",this._onTapStart),_(t,"touchstart",this._onTapStart),_(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(t,"dragover",this),_(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qt.splice(qt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ut){if(B("hideClone",this),g.eventCanceled)return;v(O,"display","none"),this.options.removeCloneOnHide&&O.parentNode&&O.parentNode.removeChild(O),ut=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ut){if(B("showClone",this),g.eventCanceled)return;h.parentNode==M&&!this.options.group.revertClone?M.insertBefore(O,h):gt?M.insertBefore(O,gt):M.appendChild(O),this.options.group.revertClone&&this.animate(h,O),v(O,"display",""),ut=!1}}};function On(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function ee(t,n,e,o,i,r,a,u){var l,s=t[F],c=s.options.onMove,d;return window.CustomEvent&&!nt&&!At?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=n,l.from=t,l.dragged=e,l.draggedRect=o,l.related=i||n,l.relatedRect=r||A(n),l.willInsertAfter=u,l.originalEvent=a,t.dispatchEvent(l),c&&(d=c.call(s,l,a)),d}function ge(t){t.draggable=!1}function In(){ve=!1}function An(t,n,e){var o=A(Et(e.el,0,e.options,!0)),i=ze(e.el,e.options,b),r=10;return n?t.clientX<i.left-r||t.clientY<o.top&&t.clientX<o.right:t.clientY<i.top-r||t.clientY<o.bottom&&t.clientX<o.left}function kn(t,n,e){var o=A(ce(e.el,e.options.draggable)),i=ze(e.el,e.options,b),r=10;return n?t.clientX>i.right+r||t.clientY>o.bottom&&t.clientX>o.left:t.clientY>i.bottom+r||t.clientX>o.right&&t.clientY>o.top}function Pn(t,n,e,o,i,r,a,u){var l=o?t.clientY:t.clientX,s=o?e.height:e.width,c=o?e.top:e.left,d=o?e.bottom:e.right,f=!1;if(!a){if(u&&Jt<s*i){if(!Yt&&(Lt===1?l>c+s*r/2:l<d-s*r/2)&&(Yt=!0),Yt)f=!0;else if(Lt===1?l<c+Jt:l>d-Jt)return-Lt}else if(l>c+s*(1-i)/2&&l<d-s*(1-i)/2)return Nn(n)}return f=f||a,f&&(l<c+s*r/2||l>d-s*r/2)?l>c+s/2?1:-1:0}function Nn(t){return V(h)<V(t)?1:-1}function Rn(t){for(var n=t.tagName+t.className+t.src+t.href+t.textContent,e=n.length,o=0;e--;)o+=n.charCodeAt(e);return o.toString(36)}function Xn(t){Kt.length=0;for(var n=t.getElementsByTagName("input"),e=n.length;e--;){var o=n[e];o.checked&&Kt.push(o)}}function ne(t){return setTimeout(t,0)}function me(t){return clearTimeout(t)}$t&&D(document,"touchmove",function(t){(g.active||Ct)&&t.cancelable&&t.preventDefault()}),g.utils={on:D,off:_,css:v,find:Ye,is:function(t,n){return!!Z(t,n,t,!1)},extend:bn,throttle:je,closest:Z,toggleClass:G,clone:Ge,index:V,nextTick:ne,cancelNextTick:me,detectDirection:qe,getChild:Et,expando:F},g.get=function(t){return t[F]},g.mount=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];n[0].constructor===Array&&(n=n[0]),n.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(g.utils=J(J({},g.utils),o.utils)),Nt.mount(o)})},g.create=function(t,n){return new g(t,n)},g.version=gn;var k=[],Ft,be,ye=!1,we,_e,oe,Bt;function Ln(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return t.prototype={dragStarted:function(n){var e=n.originalEvent;this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):this.options.supportPointer?D(document,"pointermove",this._handleFallbackAutoScroll):e.touches?D(document,"touchmove",this._handleFallbackAutoScroll):D(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var e=n.originalEvent;!this.options.dragOverBubble&&!e.rootEl&&this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),$e(),ie(),yn()},nulling:function(){oe=be=Ft=ye=Bt=we=_e=null,k.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,e){var o=this,i=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(i,r);if(oe=n,e||this.options.forceAutoScrollFallback||At||nt||kt){De(n,this.options,a,e);var u=ct(a,!0);ye&&(!Bt||i!==we||r!==_e)&&(Bt&&$e(),Bt=setInterval(function(){var l=ct(document.elementFromPoint(i,r),!0);l!==u&&(u=l,ie()),De(n,o.options,l,e)},10),we=i,_e=r)}else{if(!this.options.bubbleScroll||ct(a,!0)===K()){ie();return}De(n,this.options,ct(a,!1),!1)}}},tt(t,{pluginName:"scroll",initializeByDefault:!0})}function ie(){k.forEach(function(t){clearInterval(t.pid)}),k=[]}function $e(){clearInterval(Bt)}var De=je(function(t,n,e,o){if(n.scroll){var i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=n.scrollSensitivity,u=n.scrollSpeed,l=K(),s=!1,c;be!==e&&(be=e,ie(),Ft=n.scroll,c=n.scrollFn,Ft===!0&&(Ft=ct(e,!0)));var d=0,f=Ft;do{var p=f,E=A(p),m=E.top,C=E.bottom,P=E.left,j=E.right,S=E.width,w=E.height,T=void 0,Q=void 0,ot=p.scrollWidth,L=p.scrollHeight,W=v(p),it=p.scrollLeft,jt=p.scrollTop;p===l?(T=S<ot&&(W.overflowX==="auto"||W.overflowX==="scroll"||W.overflowX==="visible"),Q=w<L&&(W.overflowY==="auto"||W.overflowY==="scroll"||W.overflowY==="visible")):(T=S<ot&&(W.overflowX==="auto"||W.overflowX==="scroll"),Q=w<L&&(W.overflowY==="auto"||W.overflowY==="scroll"));var $=T&&(Math.abs(j-i)<=a&&it+S<ot)-(Math.abs(P-i)<=a&&!!it),yt=Q&&(Math.abs(C-r)<=a&&jt+w<L)-(Math.abs(m-r)<=a&&!!jt);if(!k[d])for(var ht=0;ht<=d;ht++)k[ht]||(k[ht]={});(k[d].vx!=$||k[d].vy!=yt||k[d].el!==p)&&(k[d].el=p,k[d].vx=$,k[d].vy=yt,clearInterval(k[d].pid),($!=0||yt!=0)&&(s=!0,k[d].pid=setInterval(function(){o&&this.layer===0&&g.active._onTouchMove(oe);var rt=k[this.layer].vy?k[this.layer].vy*u:0,pt=k[this.layer].vx?k[this.layer].vx*u:0;typeof c=="function"&&c.call(g.dragged.parentNode[F],pt,rt,t,oe,k[this.layer].el)!=="continue"||We(k[this.layer].el,pt,rt)}.bind({layer:d}),24))),d++}while(n.bubbleScroll&&f!==l&&(f=ct(f,!1)));ye=s}},30),tn=function(t){var n=t.originalEvent,e=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(n){var l=e||i;a();var s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(s.clientX,s.clientY);u(),l&&!l.el.contains(c)&&(r("spill"),this.onSpill({dragEl:o,putSortable:e}))}};function Ee(){}Ee.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,e=t.putSortable;this.sortable.captureAnimationState(),e&&e.captureAnimationState();var o=Et(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),e&&e.animateAll()},drop:tn},tt(Ee,{pluginName:"revertOnSpill"});function Se(){}Se.prototype={onSpill:function(t){var n=t.dragEl,e=t.putSortable,o=e||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:tn},tt(Se,{pluginName:"removeOnSpill"}),g.mount(new Ln),g.mount(Se,Ee);const Yn="/assets/icons/arrow.svg",Fn={class:"gallery-item"},Bn=["href"],jn=["src","alt"],Wn={class:"gallery-meta"},Gn={style:{"word-break":"break-all"}},zn=["value"],Un={class:"controlButtons"},Hn={class:"handle",src:Yn,title:"Move picture up or down",alt:"Move image via drag'n'drop"},en=re({__name:"GalleryItem",props:{fileItem:{},isLoc:{type:Boolean}},setup(t){const n=ae(),{galleryFiles:e,locationFiles:o}=Wt(n),i=s=>URL.createObjectURL(s),r=U(Array.isArray(H.galleryArray)?H.galleryArray:[]);function a(){typeof Me.generateGalleryArray=="function"&&Me.generateGalleryArray(),r.value=Array.isArray(H.galleryArray)?H.galleryArray:[]}xe(()=>a());function u(s){e.value=e.value.filter(c=>c!==s),o.value=o.value.filter(c=>c!==s)}function l(s,c){const d=e.value.indexOf(s),f=o.value.indexOf(s),p=(()=>{if(d!==-1)return e;if(f!==-1)return o;throw new Error("Couldn't find item!")})(),E=p.value.indexOf(s);if(c==="up"&&E)p.value.splice(E-1,0,s),p.value.splice(E+1,1);else if(c==="down"&&E!==p.value.length-1){const m=p.value.filter(C=>C!==s);m.splice(E+1,0,s),p.value=m}}return(s,c)=>(x(),N("div",Fn,[y("a",{class:"gallery-media",href:i(s.fileItem.file),target:"_blank",rel:"noopener noreferrer"},[y("img",{src:i(s.fileItem.file),alt:s.fileItem.file.name},null,8,jn)],8,Bn),y("div",Wn,[y("p",Gn,[c[5]||(c[5]=y("span",{class:"has-text-weight-bold"},"Name: ",-1)),Ot(ft(s.fileItem.file.name),1)]),at(y("div",null,[at(y("select",{"onUpdate:modelValue":c[0]||(c[0]=d=>s.fileItem.desc=d),onMousedown:a,onTouchstart:a},[(x(!0),N(lt,null,_t(r.value,d=>(x(),N("option",{value:d,key:d},ft(d),9,zn))),128))],544),[[an,s.fileItem.desc]])],512),[[wt,r.value.length]]),y("div",null,[at(y("input",{type:"text",placeholder:"Description","onUpdate:modelValue":c[1]||(c[1]=d=>s.fileItem.desc=d)},null,512),[[ln,s.fileItem.desc]])])]),y("div",Un,[y("button",{class:"delete-icon is-clickable",title:"Remove picture from gallery",onClick:c[2]||(c[2]=d=>u(s.fileItem))}," \u274C "),at(y("img",Hn,null,512),[[wt,!s.isLoc]]),at(y("button",{class:"button moveButton",title:"Move up","data-move":"up",onClick:c[3]||(c[3]=d=>l(s.fileItem,"up"))},c[6]||(c[6]=[y("svg",{width:"36",height:"36"},[y("path",{d:"M2 25h32L18 9 2 25Z"})],-1)]),512),[[wt,!s.isLoc]]),at(y("button",{class:"button moveButton",title:"Move down","data-move":"down",onClick:c[4]||(c[4]=d=>l(s.fileItem,"down"))},c[7]||(c[7]=[y("svg",{width:"36",height:"36"},[y("path",{d:"M2 11h32L18 27 2 11Z"})],-1)]),512),[[wt,!s.isLoc]])])]))}}),Vn={class:"title-wrapper"},Zn=["innerHTML"],qn={key:0,class:"error-list"},Qn={key:0},Jn={key:1},Kn=re({__name:"FileUpload",setup(t){const n=U(null),e=U(!1),o=U([]),i=U(""),r=U(!1),a=U(""),u=U(!1),l=U(!1),s=U(!1);Gt(()=>{l.value&&!u.value&&(l.value=!1)}),Gt(()=>{!u.value&&!l.value&&(a.value=typeof H.galleryExplanationExternal=="string"?H.galleryExplanationExternal:"")}),Gt(()=>{!s.value&&u.value&&(s.value=!0)});const c=ae(),{galleryFiles:d}=Wt(c),f=cn(),{image:p}=Wt(f);function E(S){var w;e.value=!1;const T=(w=S.dataTransfer)==null?void 0:w.files;T!=null&&T.length&&C(T)}function m(S){if(!(S.target instanceof HTMLInputElement))return;const w=S.target.files;w!=null&&w.length&&C(w)}function C(S){const w=Array.from(S),T=1e7,Q=w.filter(L=>L.size>T);o.value=Q.map(L=>L.name),i.value=typeof H.image=="string"?H.image:p.value,r.value=w.map(L=>L.name).includes(i.value);const ot=w.filter(L=>!Q.includes(L)&&L.name!==i.value);j(Array.from(ot),d),!(s.value||typeof H.galleryExplanationExternal!="string"||!ot.length)&&(a.value=H.galleryExplanationExternal+'<div class="mt-3"><span class="has-text-weight-bold">NOTE</span>: You can access this popup at any time by clicking on the "?" next to the gallery upload button.</div>',u.value=!0,l.value=!0,s.value=!0)}let P=0;function j(S,w){for(const T of S)w.value.unshift({id:P++,desc:"",file:T})}return(S,w)=>(x(),N(lt,null,[y("label",{for:"galleryUpload",class:Oe(["drop-container",{"drag-active":e.value}]),onDragenter:w[1]||(w[1]=T=>e.value=!0),onDragleave:w[2]||(w[2]=T=>e.value=!1),onDrop:Ce(E,["prevent"]),onDragover:w[3]||(w[3]=Ce(()=>{},["prevent"]))},[y("div",Vn,[w[6]||(w[6]=y("span",{class:"drop-title"},"Drop gallery files here",-1)),a.value?(x(),It(hn,{key:0,open:u.value,"onUpdate:open":w[0]||(w[0]=T=>u.value=T)},{heading:le(()=>w[4]||(w[4]=[Ot("Gallery")])),content:le(()=>[y("div",{innerHTML:a.value},null,8,Zn)]),default:le(()=>[w[5]||(w[5]=Ot(" There is a preferred order of pictures. "))]),_:1,__:[5]},8,["open"])):vt("",!0)]),y("input",{ref_key:"galleryUpload",ref:n,class:Oe({error:o.value.length||r.value}),accept:"image/*",type:"file",id:"galleryUpload",multiple:"",onChange:m},null,34)],34),o.value.length||r.value?(x(),N("div",qn,[r.value?(x(),N("div",Qn,ft(i.value)+" is already in the infobox and therefore wasn't added to the gallery. ",1)):vt("",!0),o.value.length?(x(),N("div",Jn,w[7]||(w[7]=[Ot(" The following file(s) exceed the 10MB upload limit and couldn't be added. You can compress them with the "),y("a",{href:"https://nmscd.com/Image-Compressor/",target:"_blank",rel:"noopener noreferrer"},"Image Compressor",-1),Ot(". ")]))):vt("",!0),(x(!0),N(lt,null,_t(o.value,T=>(x(),N("div",{key:T},ft(T),1))),128))])):vt("",!0)],64))}}),$n=Ae(Kn,[["__scopeId","data-v-d6a78f05"]]),to={key:0,class:"gallery-preview-header"},eo={key:0,class:"gallery-preview"},no={id:"gallery"},oo={id:"galleryOutput"},io={key:0,id:"locationGallery"},ro={id:"locationGalleryOutput"},ao=re({__name:"App",setup(t){const n=U(null),e=U(!1);xe(()=>{window.matchMedia("(pointer: coarse)").matches||!n.value||new g(n.value,{handle:".handle",animation:250,onUpdate:a})});const o=ae(),{galleryFiles:i,locationFiles:r}=Wt(o);function a(c){const d=c.oldIndex,f=c.newIndex;if(!(typeof d=="number"&&typeof f=="number"))return;const p=i.value.splice(d,1);i.value.splice(f,0,p[0])}Gt(()=>{const c=i.value.length,d=r.value.length;if(c+d>5&&(H.pageType==="fauna"||H.pageType==="sandworm")){const f=["Moon Page","Planet Page","System Page","Galaxy Map"],p=f.map(m=>m.toLowerCase()),E=i.value.filter(m=>p.includes(m.desc.toLowerCase()));for(let m=E.length-1;m>=0;m--){const C=E[m],P=p.indexOf(C.desc.toLowerCase());C.desc=f[P],r.value.push(C);const j=i.value.indexOf(C);i.value.splice(j,1)}for(let m=r.value.length-1;m>=0;m--){const C=r.value[m];p.includes(C.desc.toLowerCase())||u(C)}r.value=f.flatMap(m=>r.value.filter(C=>C.desc===m))}else for(let f=r.value.length-1;f>=0;f--)u(r.value[f])});function u(c){i.value.push(c);const d=r.value.indexOf(c);r.value.splice(d,1)}function l(c){return c.file.name+(c.desc?"|"+c.desc:"")}function s(){e.value=!e.value}return(c,d)=>(x(),N(lt,null,[un($n),(x(),It(Ie,{to:"#galleryItems"},[st(i).length?(x(),N("div",to,[d[0]||(d[0]=y("label",{class:"has-text-weight-bold"},"Gallery Preview",-1)),y("button",{class:"button",onClick:s},ft(e.value?"Show":"Hide"),1)])):vt("",!0),at(y("div",null,[at(y("div",{ref_key:"filePreview",ref:n,class:"gallery-preview"},[(x(!0),N(lt,null,_t(st(i),f=>(x(),It(en,{key:f.id,"file-item":f,"is-loc":!1},null,8,["file-item"]))),128))],512),[[wt,st(i).length]]),st(r).length?(x(),N("div",eo,[d[1]||(d[1]=y("label",{class:"has-text-weight-bold is-block mb-1"},"Location Files",-1)),(x(!0),N(lt,null,_t(st(r),f=>(x(),It(en,{key:f.id,"file-item":f,"is-loc":!0},null,8,["file-item"]))),128))])):vt("",!0)],512),[[wt,!e.value]])])),(x(),It(Ie,{to:"#gallery"},[y("div",no,[d[2]||(d[2]=y("div",null,"==Gallery==",-1)),d[3]||(d[3]=y("div",null,"<gallery>",-1)),y("div",oo,[(x(!0),N(lt,null,_t(st(i),f=>(x(),N("div",{key:f.id},ft(l(f)),1))),128))]),d[4]||(d[4]=y("div",null,"</gallery>",-1))]),st(r).length?(x(),N("div",io,[d[5]||(d[5]=y("br",null,null,-1)),d[6]||(d[6]=y("div",null,"===Location===",-1)),d[7]||(d[7]=y("div",null,"<gallery>",-1)),y("div",ro,[(x(!0),N(lt,null,_t(st(r),f=>(x(),N("div",{key:f.id},ft(l(f)),1))),128))]),d[8]||(d[8]=y("div",null,"</gallery>",-1))])):vt("",!0)]))],64))}}),lo=Ae(ao,[["__scopeId","data-v-8fa1ca60"]]),nn=sn(lo);nn.use(dn()),nn.mount("#galleryInput");
