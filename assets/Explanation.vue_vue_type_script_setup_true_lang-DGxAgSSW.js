"use strict";import{w as C,x as l,y as I,ai as j,bO as r,A as o,bm as L,bP as e,z as H,cK as c,bE as F,bN as f,cr as x}from"./links-f23rfWqw.js";const z="/assets/icons/help.svg",A=["aria-disabled"],B={class:"tooltiptext nms-font"},M={id:"explanationHeading",class:"explanationHeading title is-4"},N={id:"explanationContent",class:"explanationContent nms-font"},O=["href"],T=["srcset"],W=["src"],K=C({__name:"Explanation",props:{img:{},open:{type:Boolean}},emits:["update:open"],setup(k,{emit:y}){const m=k,s=l(null),h=l(null),$=l(null),E=m.img?.trim()??"",i=l("0 -100vh"),n=l(""),d=l(0),g=l(0),v=l(!1),p=l(!1),_=y;I(()=>{m.open&&b()});function b(){i.value="0 -100vh",n.value||=E,v.value||=!0,_("update:open",!0),j(()=>{s.value&&(s.value.showModal(),i.value="0 0",s.value.scrollTo(0,0))})}function w(){g.value=1,d.value=1}return(t,a)=>(o(),r(L,null,[e("button",{"aria-disabled":!t.$slots.content||void 0,class:"tooltip",onClick:a[0]||(a[0]=u=>t.$slots.content&&b())},[a[4]||(a[4]=e("img",{src:z,alt:"Help"},null,-1)),e("p",B,[c(t.$slots,"default")])],8,A),(o(),H(F,{to:"body"},[v.value?(o(),r("dialog",{key:0,style:x({translate:i.value}),class:"explanation modal-content content",ref_key:"dialogElement",ref:s,onClose:a[3]||(a[3]=u=>t.$emit("update:open",!1))},[e("h2",M,[c(t.$slots,"heading")]),e("div",N,[c(t.$slots,"content")]),n.value&&!p.value?(o(),r("a",{key:0,href:`./assets/images/jpg/${n.value}.jpg`,class:"explanationLink loading",id:"explanationLink",ref_key:"linkElement",ref:$,rel:"noopener noreferrer",target:"_blank"},[e("picture",null,[e("source",{srcset:`./assets/images/webp/${n.value}.webp`,class:"explanationWebpImg",id:"explanationWebpImg",type:"image/webp"},null,8,T),e("img",{src:`./assets/images/jpg/${n.value}.jpg`,style:x({opacity:d.value,"margin-block-start":g.value+"rem"}),alt:"Explainer Image",class:"explanationFallbackImg",id:"explanationFallbackImg",ref_key:"imgElement",ref:h,onLoadstart:a[1]||(a[1]=u=>p.value=!1),onLoad:w,onError:a[2]||(a[2]=u=>p.value=!0)},null,44,W)])],8,O)):f("",!0),a[5]||(a[5]=e("form",{method:"dialog"},[e("button",{class:"button",type:"submit",autofocus:""}," Close ")],-1))],36)):f("",!0)]))],64))}});export{K as _};
