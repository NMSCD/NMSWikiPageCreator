"use strict";import{A as j,B as e,C as w,D as r,T as o,b as I,f as a,h as m,l as L,m as b,p as H,pt as x,u as T}from"./vue.runtime.esm-bundler-3ZgqKN1E.js";var A=["aria-disabled"],B={class:"tooltiptext nms-font"},D={id:"explanationHeading",class:"explanationHeading title is-4"},F={id:"explanationContent",class:"explanationContent nms-font"},M=["href"],W=["srcset"],N=["src"],O=I({__name:"Explanation",props:{img:{},open:{type:Boolean}},emits:["update:open"],setup(k,{emit:y}){let c=k,s=e(null),h=e(null),$=e(null),C=c.img?.trim()??"",i=e("0 -100vh"),n=e(""),d=e(0),g=e(0),v=e(!1),p=e(!1),E=y;j(()=>{c.open&&f()});function f(){i.value="0 -100vh",n.value||=C,v.value||=!0,E("update:open",!0),w(()=>{s.value&&(s.value.showModal(),i.value="0 0",s.value.scrollTo(0,0))})}function _(){g.value=1,d.value=1}return(l,t)=>(o(),m(L,null,[a("button",{"aria-disabled":!l.$slots.content||void 0,class:"tooltip",onClick:t[0]||=u=>l.$slots.content&&f()},[t[4]||=a("img",{src:"/assets/icons/help.svg",alt:"Help"},null,-1),a("p",B,[r(l.$slots,"default")])],8,A),(o(),H(T,{to:"body"},[v.value?(o(),m("dialog",{key:0,style:x({translate:i.value}),class:"explanation modal-content content",ref_key:"dialogElement",ref:s,onClose:t[3]||=u=>l.$emit("update:open",!1)},[a("h2",D,[r(l.$slots,"heading")]),a("div",F,[r(l.$slots,"content")]),n.value&&!p.value?(o(),m("a",{key:0,href:`./assets/images/jpg/${n.value}.jpg`,class:"explanationLink loading",id:"explanationLink",ref_key:"linkElement",ref:$,rel:"noopener noreferrer",target:"_blank"},[a("picture",null,[a("source",{srcset:`./assets/images/webp/${n.value}.webp`,class:"explanationWebpImg",id:"explanationWebpImg",type:"image/webp"},null,8,W),a("img",{src:`./assets/images/jpg/${n.value}.jpg`,style:x({opacity:d.value,"margin-block-start":g.value+"rem"}),alt:"Explainer Image",class:"explanationFallbackImg",id:"explanationFallbackImg",ref_key:"imgElement",ref:h,onLoadstart:t[1]||=u=>p.value=!1,onLoad:_,onError:t[2]||=u=>p.value=!0},null,44,N)])],8,M)):b("",!0),t[5]||=a("form",{method:"dialog"},[a("button",{class:"button",type:"submit",autofocus:""}," Close ")],-1)],36)):b("",!0)]))],64))}});export{O as t};
