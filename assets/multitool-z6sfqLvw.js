import"./vue.runtime.esm-bundler-Ck_BHOtv.js";import"./minimal-CXEvYmoH.js";import{F as e,Mt as t,N as n,Ot as r,Z as i,_ as a,b as o,c as s,et as c,ht as l,it as u,jt as d,kt as f,mt as p,nt as m,pt as h,rt as g,tt as _,v,vt as y}from"./portalglyphs-6adxIJc1.js";import{a as b,c as x,i as S,n as C,r as w,s as T}from"./startup-UOzy1vk0.js";import"./gallery-CP1Cm_c4.js";import"./Explanation-BDm_der7.js";import"./_plugin-vue_export-helper-Bjxippq7.js";function E(){r.output.regNr.innerText=l(t.region)}function D(){let t=a();r.output.addInfo.innerText=t}function O(){let e=t.mainColour,n=t.secColour,l=t.name,a=t.subtype.toLowerCase(),i=t.type.toLowerCase(),o=r.input.appearanceInput;if(!e.trim()&&!n.trim())return;let s=e.trim()?`${v(e)} ${e.trim()}`:v(i),c=n.trim()?` with ${n} accents`:"";o.value=`${l} is ${s} ${"starter pistol"===a?a:i} multi-tool${c}.`,u(o)}function k(){j(),t.albumInitialised?C():document.addEventListener("albumLoaded",()=>C())}function A(){k(),M()}function j(){let e,n,{srLocName:l,planet:a,moon:i,axes:o}=t,r=t.location.toLowerCase(),s=p(a,i),c=(()=>{let e=t.srLoc;return l||e.includes("Space")?e.toLowerCase():r.includes("Space")?r:s})();r.includes("space")?(e=`fly to the ${r}`,n=`the ${c}`,r!==c&&l?c.includes("space")||(n=`${c} [[${l}]]`):e="take from cabinet"):(n=`${c} [[${l}]]`,e=`fly to ${s} (${o})`,c.toLowerCase().includes("space")?n=`the ${c}`:i&&"moon"===c&&l===i||!i&&"planet"===c&&l===a?e=`fly to ${o}`:l||(n=`${s}`,e=`fly to ${o}`)),u(`Save and reload on ${n}, then ${e}.`,"acquirement"),t.actualSrLoc=c}function M(){let e=t.srLocName,l=t.location,a=t.srPlanetImg||"nmsMisc_notAvailable.png",i=t.sysImg||"nmsMisc_notAvailable.png",o=t.cabinetPlanetImg||"nmsMisc_notAvailable.png",s=t.axesImg||"nmsMisc_notAvailable.png",u=["srImgInput","sysImgInput","cabInput","coordsInput"],c=[{},{},{},{}],p=h(),m=(()=>{let n=t.srLoc;return n.includes("Space")||e?n:l.includes("Space")?l:p})(),f="Sentinel Pillar"===l?"Pillar":"Cabinet",d=l.includes("Space")?"":`(${f} ${p} highlighted)`;function I(t,e,n){t.picName=e,t.desc=n}I(c[0],a,`Save/Reload ${m}`),I(c[1],i,`System ${d}`),l.includes("Space")||(I(c[2],o,`${f} ${p}`),I(c[3],s,"Coordinates"));let y=[];for(let t=0;t<c.length;t++){let e=c[t],l=e.picName,a=e.desc,i=u[t];if(!l||!a){n(r.input[i],"none");continue}n(r.input[i],"");let o=document.createElement("span");o.style.display="block",o.innerText=`${l}|${a}`,y.push(o.outerHTML),r.output[i+"Label"].innerText=a}r.output.acquirementGallery.innerHTML=y.join("")}function N(){let e=t.type,l=r.input.locInput;e in d?(n(l,"none"),l.value=d[e],u(l)):n(l,""),L(),R(),M()}function P(){let e=t.location,l=r.input.typeInput,a=r.input.subtypeInput;if(!("string"==typeof e&&l instanceof HTMLSelectElement&&a instanceof HTMLSelectElement))return;let i=structuredClone(d);delete i.Royal;let o=Object.fromEntries(Object.entries(i).map(t=>t.reverse()));e in o?(n(l,"none"),n(a,"none"),l.value=o[e],u(l)):n(l,""),L(),R(),M()}function F(){let e=t.location;for(let t of["planetInput","moonInput","axesInput"]){let l=r.input[t],a=e.includes("Space");n(l,a?"none":""),a&&(l.value="",u(l),o(l))}}function I(){let e=t.srLoc,l=r.input.srInput;e.includes("Space")?(n(l,"none"),l.value="",u(l)):n(l,"")}function L(){let e=t.location,l=r.input.costInput,a="Sentinel Pillar"===e||"Harmonic Camp"===e;n(l,a?"none":""),a&&(l.value="",m(l,"input"))}function R(){let e=t.type,l=r.input.crystalsInput;if(["Royal","Sentinel","Atlantid"].includes(e)){let t=l.closest(".checkboxes").querySelectorAll('input[type="checkbox"]');n(l,"none"),t.forEach(t=>{t.checked=!1,m(t,"change")})}else n(l,"")}function z(){let e=t.type,l=r.input.subtypeInput,a={Pistol:[["Pistol","Starter Pistol"],["Standard","Starter Pistol"]],Rifle:[["Rifle","SMG"],["Standard (Large)","SMG (Small)"]],Experimental:[["Rifle","Pistol"],["Rifle (Large)","Pistol (Small)"]],Alien:[["Rifle","SMG","Pistol"],["Rifle (Large)","SMG (Medium)","Pistol (Small)"]]},o=Object.keys(a).includes(e);n(l,o?"":"none"),o?i(l,a[e][0],a[e][1]):l.value="",c(l)}function B(){return"Album"}function V(){return"Multi-Tool"}function H(){return`<br>{{Class|${t.class}}} - ${function(){let e=t.subtype;return!e||t.isStarter?"":e+" -"}()} ${t.slots} Slots`}function U(){return(()=>{let e=t.axes,n=t.acquirement.replace("Save and reload","S/r");return e&&!g(!1)?n.replace(/[()]/g,"").replace(e,`(${e})`):n})()}function W(){let e=["","Discovery Menu","Price Page","Base Stats","Minor Settlement","Sentinel Pillar","Harmonic Camp","Monolith","Tool in Hand","First Person View"],n=t.location,l=["Minor Settlement","Sentinel Pillar","Harmonic Camp","Monolith"];if(l.includes(n))l.filter(t=>t!==n).forEach(t=>{let n=e.indexOf(t);e.splice(n,1)});else for(let t=e.length-1;t>=0;t--)l.includes(e[t])&&e.splice(t,1);t.galleryArray=e}f.albumDescExternal=()=>U(),f.albumOtherExternal=()=>H(),f.albumItemTypeExternal=()=>V(),f.albumTypeExternal=()=>B(),f.generateGalleryArray=()=>W(),s("galleryExplanationExternal","\n\tThere is a preferred order of pictures:\n\t<div class='is-flex is-justify-content-center'>\n\t\t<ol class='has-text-left'>\n\t\t\t<li>Discovery Menu</li>\n\t\t\t<li>Price Page</li>\n\t\t\t<li>Base Stats</li>\n\t\t\t<li>Minor Settlement/Sentinel Pillar/Harmonic Camp/Monolith</li>\n\t\t\t<li>Tool in Hand</li>\n\t\t\t<li>First Person View</li>\n\t\t</ol>\n\t</div>"),y([{element:"nameInput",func:()=>{T(),O()}},{element:"typeInput",func:()=>{D(),N(),z(),v(t.type,"enPrefix"),b(),x(),O()}},{element:"subtypeInput",func:()=>{x(),D(),O(),b()}},{element:"researchTeam",func:()=>D()},{element:"locInput",func:function(){A(),F(),L(),P()}},{element:"srlocInput",func:()=>{A(),I()}},{element:["srInput","planetInput","moonInput"],func:()=>A()},{element:"axesInput",func:()=>k()},{element:["slotsInput","classInput"],func:()=>x()},{element:["srImgInput","sysImgInput","cabInput","coordsInput"],func:()=>M()},{element:["srImgUpload","sysImgUpload","cabUpload","coordsUpload"],handler:"change",func:function(){e(this),M()}},{element:"portalglyphsInput",func:()=>E()},{element:["discoveredInput","discoveredlinkInput"],func:()=>w()},{element:["mainColourInput","secColourInput"],func:()=>O()},{element:"hideAppearanceButton",handler:"click",func:function(){_("appearance",this)}}]),A(),D(),N(),z(),F(),I(),E(),L(),S(),v(t.type??"","enPrefix");
