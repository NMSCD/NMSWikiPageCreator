"use strict";import"./vue.runtime.esm-bundler-3ZgqKN1E.js";import"./minimal-DFXDy0i6.js";import{F,Mt as n,N as c,Ot as s,Z as V,_ as z,b as W,c as Z,et as J,ht as K,it as f,jt as T,kt as d,mt as Q,nt as k,pt as X,rt as Y,tt as ee,v as $,vt as te}from"./portalglyphs-GMhkLqu8.js";import{a as R,c as E,i as ne,n as w,r as le,s as ie}from"./startup-DSvLD0_L.js";import"./gallery-CVFJ7_gj.js";import"./Explanation-D7rNd3Mp.js";import"./_plugin-vue_export-helper-Bjxippq7.js";function j(){let t=s.output.regNr;t.innerText=K(n.region)}function b(){let t=z(),e=s.output.addInfo;e.innerText=t}function v(){let t=n.mainColour,e=n.secColour,l=n.name,i=n.subtype.toLowerCase(),a=n.type.toLowerCase(),u=s.input.appearanceInput;if(!(t.trim()||e.trim()))return;let p=t.trim()?`${$(t)} ${t.trim()}`:$(a),o=e.trim()?` with ${e} accents`:"";u.value=`${l} is ${p} ${i==="starter pistol"?i:a} multi-tool${o}.`,f(u)}function N(){ae(),n.albumInitialised?w():document.addEventListener("albumLoaded",()=>w())}function P(){N(),I()}function ae(){let{srLocName:t,planet:e,moon:l,axes:i}=n,a=n.location.toLowerCase(),u=Q(e,l),p,o,r=(()=>{let y=n.srLoc;return t||y.includes("Space")?y.toLowerCase():a.includes("Space")?a:u})();a.includes("space")?(p=`fly to the ${a}`,o=`the ${r}`,a===r||!t?p="take from cabinet":r.includes("space")||(o=`${r} [[${t}]]`)):(o=`${r} [[${t}]]`,p=`fly to ${u} (${i})`,r.toLowerCase().includes("space")?o=`the ${r}`:l&&r==="moon"&&t===l||!l&&r==="planet"&&t===e?p=`fly to ${i}`:t||(o=`${u}`,p=`fly to ${i}`)),f(`Save and reload on ${o}, then ${p}.`,"acquirement"),n.actualSrLoc=r}function I(){let t=n.srLocName,e=n.location,l=n.srPlanetImg||"nmsMisc_notAvailable.png",i=n.sysImg||"nmsMisc_notAvailable.png",a=n.cabinetPlanetImg||"nmsMisc_notAvailable.png",u=n.axesImg||"nmsMisc_notAvailable.png",p=["srImgInput","sysImgInput","cabInput","coordsInput"],o=[{},{},{},{}],r=X(),y=(()=>{let m=n.srLoc;return m.includes("Space")||t?m:e.includes("Space")?e:r})(),A=e==="Sentinel Pillar"?"Pillar":"Cabinet",B=e.includes("Space")?"":`(${A} ${r} highlighted)`;function S(m,g,h){m.picName=g,m.desc=h}S(o[0],l,`Save/Reload ${y}`),S(o[1],i,`System ${B}`),e.includes("Space")||(S(o[2],a,`${A} ${r}`),S(o[3],u,"Coordinates"));let H=[];for(let m=0;m<o.length;m++){let g=o[m],h=g.picName,M=g.desc,L=p[m];if(!h||!M){c(s.input[L],"none");continue}c(s.input[L],"");let C=document.createElement("span");C.style.display="block",C.innerText=`${h}|${M}`,H.push(C.outerHTML),s.output[L+"Label"].innerText=M}let D=s.output.acquirementGallery;D.innerHTML=H.join("")}function O(){let t=n.type,e=s.input.locInput;t in T?(c(e,"none"),e.value=T[t],f(e)):c(e,""),x(),U(),I()}function oe(){let t=n.location,e=s.input.typeInput,l=s.input.subtypeInput;if(typeof t!="string"||!(e instanceof HTMLSelectElement)||!(l instanceof HTMLSelectElement))return;let i=structuredClone(T);delete i.Royal;let a=Object.fromEntries(Object.entries(i).map(u=>u.reverse()));t in a?(c(e,"none"),c(l,"none"),e.value=a[t],f(e)):c(e,""),x(),U(),I()}function _(){let t=n.location;for(let e of["planetInput","moonInput","axesInput"]){let l=s.input[e],i=t.includes("Space");c(l,i?"none":""),i&&(l.value="",f(l),W(l))}}function G(){let t=n.srLoc,e=s.input.srInput;t.includes("Space")?(c(e,"none"),e.value="",f(e)):c(e,"")}function x(){let t=n.location,e=s.input.costInput,l=t==="Sentinel Pillar"||t==="Harmonic Camp";c(e,l?"none":""),l&&(e.value="",k(e,"input"))}function U(){let t=n.type,e=s.input.crystalsInput;if(["Royal","Sentinel","Atlantid"].includes(t)){let l=e.closest(".checkboxes").querySelectorAll('input[type="checkbox"]');c(e,"none"),l.forEach(i=>{i.checked=!1,k(i,"change")})}else c(e,"")}function q(){let t=n.type,e=s.input.subtypeInput,l={Pistol:[["Pistol","Starter Pistol"],["Standard","Starter Pistol"]],Rifle:[["Rifle","SMG"],["Standard (Large)","SMG (Small)"]],Experimental:[["Rifle","Pistol"],["Rifle (Large)","Pistol (Small)"]],Alien:[["Rifle","SMG","Pistol"],["Rifle (Large)","SMG (Medium)","Pistol (Small)"]]},i=Object.keys(l).includes(t);c(e,i?"":"none"),i?V(e,l[t][0],l[t][1]):e.value="",J(e)}function se(){return"Album"}function re(){return"Multi-Tool"}function ce(){function t(){let e=n.subtype;return!e||n.isStarter?"":e+" -"}return`<br>{{Class|${n.class}}} - ${t()} ${n.slots} Slots`}function ue(){return(()=>{let t=n.axes,e=n.acquirement.replace("Save and reload","S/r");return t&&!Y(!1)?e.replace(/[()]/g,"").replace(t,`(${t})`):e})()}function pe(){let t=["","Discovery Menu","Price Page","Base Stats","Minor Settlement","Sentinel Pillar","Harmonic Camp","Monolith","Tool in Hand","First Person View"],e=n.location,l=["Minor Settlement","Sentinel Pillar","Harmonic Camp","Monolith"];if(l.includes(e))l.filter(i=>i!==e).forEach(i=>{let a=t.indexOf(i);t.splice(a,1)});else for(let i=t.length-1;i>=0;i--)l.includes(t[i])&&t.splice(i,1);n.galleryArray=t}d.albumDescExternal=()=>ue(),d.albumOtherExternal=()=>ce(),d.albumItemTypeExternal=()=>re(),d.albumTypeExternal=()=>se(),d.generateGalleryArray=()=>pe(),Z("galleryExplanationExternal",`
	There is a preferred order of pictures:
	<div class='is-flex is-justify-content-center'>
		<ol class='has-text-left'>
			<li>Discovery Menu</li>
			<li>Price Page</li>
			<li>Base Stats</li>
			<li>Minor Settlement/Sentinel Pillar/Harmonic Camp/Monolith</li>
			<li>Tool in Hand</li>
			<li>First Person View</li>
		</ol>
	</div>`),te([{element:"nameInput",func:()=>{ie(),v()}},{element:"typeInput",func:()=>{b(),O(),q(),$(n.type,"enPrefix"),R(),E(),v()}},{element:"subtypeInput",func:()=>{E(),b(),v(),R()}},{element:"researchTeam",func:()=>b()},{element:"locInput",func:function(){P(),_(),x(),oe()}},{element:"srlocInput",func:()=>{P(),G()}},{element:["srInput","planetInput","moonInput"],func:()=>P()},{element:"axesInput",func:()=>N()},{element:["slotsInput","classInput"],func:()=>E()},{element:["srImgInput","sysImgInput","cabInput","coordsInput"],func:()=>I()},{element:["srImgUpload","sysImgUpload","cabUpload","coordsUpload"],handler:"change",func:function(){F(this),I()}},{element:"portalglyphsInput",func:()=>j()},{element:["discoveredInput","discoveredlinkInput"],func:()=>le()},{element:["mainColourInput","secColourInput"],func:()=>v()},{element:"hideAppearanceButton",handler:"click",func:function(){ee("appearance",this)}}]),P(),b(),O(),q(),_(),G(),j(),x(),ne(),$(n.type??"","enPrefix");
