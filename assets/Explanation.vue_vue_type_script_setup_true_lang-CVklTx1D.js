"use strict";import{w as I,x as l,y as j,ai as L,bN as c,A as o,bl as H,bO as e,z as F,cJ as m,bD as M,bM as x,cq as k}from"./links-DlE74E-n.js";const W="/assets/icons/help.svg",q=["aria-disabled"],z={class:"tooltiptext nms-font"},B={id:"explanationHeading",class:"explanationHeading title is-4"},D={id:"explanationContent",class:"explanationContent nms-font"},N=["href"],T=["srcset"],A=["src"],J=I({__name:"Explanation",props:{img:{},open:{type:Boolean}},emits:["update:open"],setup(y,{emit:h}){var d;const v=y,s=l(null),$=l(null),_=l(null),E=((d=v.img)==null?void 0:d.trim())??"",i=l("0 -100vh"),t=l(""),g=l(0),b=l(0),u=l(!1),p=l(!1),w=h;j(()=>{v.open&&f()});function f(){i.value="0 -100vh",t.value||(t.value=E),u.value||(u.value=!0),w("update:open",!0),L(()=>{s.value&&(s.value.showModal(),i.value="0 0",s.value.scrollTo(0,0))})}function C(){b.value=1,g.value=1}return(n,a)=>(o(),c(H,null,[e("button",{"aria-disabled":!n.$slots.content||void 0,class:"tooltip",onClick:a[0]||(a[0]=r=>n.$slots.content&&f())},[a[4]||(a[4]=e("img",{src:W,alt:"Help"},null,-1)),e("p",z,[m(n.$slots,"default")])],8,q),(o(),F(M,{to:"body"},[u.value?(o(),c("dialog",{key:0,style:k({translate:i.value}),class:"explanation modal-content content",ref_key:"dialogElement",ref:s,onClose:a[3]||(a[3]=r=>n.$emit("update:open",!1))},[e("h2",B,[m(n.$slots,"heading")]),e("div",D,[m(n.$slots,"content")]),t.value&&!p.value?(o(),c("a",{key:0,href:`./assets/images/jpg/${t.value}.jpg`,class:"explanationLink loading",id:"explanationLink",ref_key:"linkElement",ref:_,rel:"noopener noreferrer",target:"_blank"},[e("picture",null,[e("source",{srcset:`./assets/images/webp/${t.value}.webp`,class:"explanationWebpImg",id:"explanationWebpImg",type:"image/webp"},null,8,T),e("img",{src:`./assets/images/jpg/${t.value}.jpg`,style:k({opacity:g.value,"margin-block-start":b.value+"rem"}),alt:"Explainer Image",class:"explanationFallbackImg",id:"explanationFallbackImg",ref_key:"imgElement",ref:$,onLoadstart:a[1]||(a[1]=r=>p.value=!1),onLoad:C,onError:a[2]||(a[2]=r=>p.value=!0)},null,44,A)])],8,N)):x("",!0),a[5]||(a[5]=e("form",{method:"dialog"},[e("button",{class:"button",type:"submit",autofocus:""}," Close ")],-1))],36)):x("",!0)]))],64))}});export{J as _};
