import{Dt as e,H as t,M as n,Mt as r,Ot as i,X as a,i as o,n as s,nt as c,t as l,vt as u,wt as d,x as f,yt as p}from"./portalglyphs-BiLNd0o4.js";!function(){let e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(let e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(let n of e)if("childList"===n.type)for(let e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;let t=function(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var m=localStorage.getItem("theme"),h=m??"light";!m&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(h="dark"),"dark"===h&&(document.documentElement.dataset.theme="dark"),m||localStorage.setItem("theme",h);var g=(new DOMParser).parseFromString('<button class="button" id="switchTheme">Switch light/dark mode</button>\n<div class="footerLinks">\n  <button type="button" id="openSettingsBtn">Global Defaults</button>\n  <a href="./about.html" id="about">About</a>\n  <a href="https://forms.gle/LRhzWjMRkXoKd9CcA" rel="noreferrer noopener" target="_blank">Feedback Form</a>\n  </div>\n  <div class="banner">\n  </br>\n  <a href="https://nmscd.com/">\n    <img src="" style="width: 300px; height: 100px;" alt="NMSCD" />\n</a>\n  </div>\n\n<dialog id="settings" class="modal-content content">\n  <h2 class="title is-4">Global Preload Values</h2>\n   \x3c!-- //NOSONAR\n\t\t(this is fine since this snippet is inserted somewhere else)--\x3e\n  <div class="table">\n    <div class="table-cell text">\n      <label for="discoveredlinkDefault">Discoverer wiki name:</label>\n    </div>\n    <div class="table-cell data">\n      <input id="discoveredlinkDefault" type="text" data-store="discoveredlinkInput builderlinkInput" data-player>\n    </div>\n    <div class="table-cell text">\n      <label for="discoveredDefault">Discoverer alias if no wiki:</label>\n    </div>\n    <div class="table-cell data">\n      <input id="discoveredDefault" type="text" data-store="discoveredInput builderInput" data-player>\n    </div>\n    <div class="table-cell text">\n      <label for="docbyDefault">Documenter alias if not discoverer:</label>\n    </div>\n    <div class="table-cell data">\n      <input id="docbyDefault" type="text" data-store="docbyInput">\n    </div>\n    <div class="table-cell text">\n      <label for="hubnameDefault">Name of your Hub:</label>\n    </div>\n    <div class="table-cell data">\n      <input id="hubnameDefault" type="text" data-store="hubnameInput">\n    </div>\n    <div class="table-cell text">\n      <label for="galaxyDefault">Name of the galaxy:</label>\n    </div>\n    <div class="table-cell data">\n      <input id="galaxyDefault" type="text" data-store="galaxyInput">\n    </div>\n    <div class="table-cell text">\n      <label for="systemDefault">Name of the system:</label>\n    </div>\n    <div class="table-cell data">\n      <input id="systemDefault" type="text" data-store="systemInput">\n    </div>\n    <div class="table-cell text">\n      <label for="regionDefault">Name of the region where the system is located:</label>\n    </div>\n    <div class="table-cell data">\n      <input id="regionDefault" type="text" data-store="regionInput">\n    </div>\n    <div class="table-cell text">\n      <label for="planetDefault">Name of the planet:</label>\n    </div>\n    <div class="table-cell data">\n      <input id="planetDefault" type="text" data-store="planetInput">\n    </div>\n    <div class="table-cell text">\n      <label for="moonDefault">Name of the moon:</label>\n    </div>\n    <div class="table-cell data">\n      <input id="moonDefault" type="text" data-store="moonInput">\n    </div>\n    <div class="table-cell text">\n      <label>Platform:</label>\n    </div>\n    <div class="table-cell data">\n      <select id="platformDefault" data-store="platformInput">\n        <option value="">I don\'t know</option>\n        <option value="PC">PC</option>\n        <option value="PS">PlayStation</option>\n        <option value="XB">Xbox</option>\n        <option value="NS">Switch</option>\n      </select>\n    </div>\n    <div class="table-cell text">\n      <label>Researchteam you belong to:</label>\n    </div>\n    <div class="table-cell data">\n      <input type="text" id="researchteamDefault" data-store="researchteamInput"></input>\n    </div>\n    <div class="table-cell text">\n      <div class="label-combo">\n        <label for="portalglyphsDefault">Portalglyphs:</label>\n        <button class="button is-small is-danger" type="button" id="glyphDeleteDefault"\n          data-input-bind="portalglyphsDefault">&larr; Delete</button>\n      </div>\n    </div>\n    <div class="table-cell data">\n      <input type="text" id="portalglyphsDefault" maxlength="12" data-store="portalglyphsInput">\n    </div>\n    <div class="tableHeader data">\n      <div id="settingsPortalglyphButtons" class="portalglyphButtons"></div>\n      <output id="settingsPortalglyphsPreview" class="glyph portalglyphsPreview"></output>\n    </div>\n    <div class="table-cell text">\n      <label>System wealth:</label>\n    </div>\n    <div class="table-cell data">\n      <select id="wealthDefault" data-store="wealthInput">\n        <optgroup label="T3">\n          <option value="â˜…â˜…â˜… (Advanced)">Advanced</option>\n          <option value="â˜…â˜…â˜… (Affluent)">Affluent</option>\n          <option value="â˜…â˜…â˜… (Booming)">Booming</option>\n          <option value="â˜…â˜…â˜… (Flourishing)">Flourishing</option>\n          <option value="â˜…â˜…â˜… (High Supply)">High Supply</option>\n          <option value="â˜…â˜…â˜… (Opulent)">Opulent</option>\n          <option value="â˜…â˜…â˜… (Prosperous)">Prosperous</option>\n          <option value="â˜…â˜…â˜… (Wealthy)">Wealthy</option>\n        </optgroup>\x3c!-- here ends T3--\x3e\n        <optgroup label="T2">\n          \x3c!--here begins T2--\x3e\n          <option value="â˜…â˜… (Adequate)">Adequate</option>\n          <option value="â˜…â˜… (Balanced)">Balanced</option>\n          <option value="â˜…â˜… (Comfortable)">Comfortable</option>\n          <option value="â˜…â˜… (Developing)">Developing</option>\n          <option value="â˜…â˜… (Medium Supply)">Medium Supply</option>\n          <option value="â˜…â˜… (Promising)">Promising</option>\n          <option value="â˜…â˜… (Satisfactory)">Satisfactory</option>\n          <option value="â˜…â˜… (Sustainable)">Sustainable</option>\n        </optgroup>\x3c!-- here ends T2--\x3e\n        <optgroup label="T1">\n          \x3c!--here begins T1--\x3e\n          <option value="â˜… (Declining)">Declining</option>\n          <option value="â˜… (Destitute)">Destitute</option>\n          <option value="â˜… (Failing)">Failing</option>\n          <option value="â˜… (Fledgling)">Fledgling</option>\n          <option value="â˜… (Low Supply)">Low Supply</option>\n          <option value="â˜… (Struggling)">Struggling</option>\n          <option value="â˜… (Unsuccessful)">Unsuccessful</option>\n          <option value="â˜… (Unpromising)">Unpromising</option>\n        </optgroup>\n        \x3c!--here ends T1--\x3e\n        <optgroup label="Pirate">\n          <option value="ðŸ’€ (Black Market)">Black Market</option>\n        </optgroup>\n        <optgroup label="Abandoned/Uncharted">\n          <option value="">Data Unavailable</option>\n        </optgroup>\n      </select>\n    </div>\n\n  </div>\n  <p>If you experience weird behaviour, restore the defaults and click "Set".</p>\n  <br>\n  <p>Also, we recommend that the users delete one letter of each category, example: Documenter/Researchteam, System/Region etc..</p>\n  <form method="dialog">\n    <button class="button is-primary" type="submit" id="submitDefault">Set</button>\n    <button class="button is-danger" type="submit" autofocus>Cancel</button>\n    <button class="button is-warning" type="reset" id="resetDefault">Restore Defaults</button>\n  </form>\n</dialog>\n',"text/html"),_=g.getElementById("about");_.href===window.location.toString()&&_?.remove();var v=g.body.innerHTML;i?.output?.footer instanceof HTMLElement?i.output.footer.innerHTML=v:document.getElementById("footer").innerHTML=v;var y=document.getElementById("settingsPortalglyphButtons");y&&l(y,"portalglyphsDefault");var b={input:{settings:"settings"}},x=document.querySelectorAll("footer dialog .data>*");e.push(...Array.from(x)),x.forEach(e=>{let t=e.id;b.input[t]=t;let n={element:t,func:function(){delete r.restored}};e.dataset.store&&p(n)}),d(b);var S={light:"assets/images/webp/shared/nmscdbanner.webp",dark:"assets/images/webp/shared/nmscdbannerwhite.webp"};function C(){let e="light"===(localStorage.getItem("theme")??"light")?"dark":"light";localStorage.setItem("theme",e),document.documentElement.dataset.theme=e,w(e)}function w(e){let t=document.querySelector(".banner img");t?t.src=S[e]:console.log("Element .banner img not found")}function T(){O();let e=i.input.settings;e.style.scale="0",e.showModal(),e.style.scale="1",e.scrollTo(0,0);let t=JSON.parse(localStorage.getItem("defaultSettings")??"{}");for(let n in t){let l=e.querySelector(`.data [data-store="${n}"]`);l&&(l.value=t[n],"portalglyphsDefault"===l.id&&c(l,"input"))}n(),delete r.restored}function E(){if(r.restored)return localStorage.removeItem("defaultSettings"),void delete r.restored;let t={},n=Array.from(e);for(let e of n){let n=e?.value,l=e?.dataset?.store,o=e;(o?.options?.[o.options.length-1]?.value===n||n)&&l&&(t[l]=a(n))}localStorage.setItem("defaultSettings",JSON.stringify(t))}function D(){let e=JSON.parse(localStorage.getItem("defaultSettings")??"{}");for(let t in e){let n=(()=>t.split(" ").length>1?t.split(" ").map(e=>document.getElementById(e)).find(e=>e):document.getElementById(t))();if(n)switch(n.value=e[t],t.split(" ")[0]){case"wealthInput":c(n,"change");break;case"portalglyphsInput":case"systemInput":case"discoveredlinkInput":case"discoveredInput":case"builderlinkInput":case"builderInput":c(n,"input")}}}function O(){let t=Array.from(e);for(let e of t)e?.value&&("select"===e.tagName.toLowerCase()?e.value=e.options?.[0]?.value:e.value="");n(),r.restored=!0}setTimeout(()=>{delete document.documentElement.dataset.transition},400),document.addEventListener("DOMContentLoaded",()=>{let e=localStorage.getItem("theme")??"light";document.documentElement.dataset.theme=e,w(e)}),u([{element:"discoveredDefault",func:function(){n("discoveredDefault","discoveredlinkDefault")}},{element:"discoveredlinkDefault",func:function(){n("discoveredlinkDefault","discoveredDefault")}},{element:"portalglyphsDefault",func:function(){o(this)}},{element:"glyphDeleteDefault",handler:"click",func:function(){s(this)}},{element:"switchTheme",handler:"click",func:function(){C()}},{element:"openSettingsBtn",handler:"click",func:function(){T()}},{element:"submitDefault",handler:"click",func:function(){E()}},{element:"resetDefault",handler:"click",func:function(){O()}}]),f(),t();export{D as t};
